1
00:00:00,000 --> 00:00:00,000
 Youtube subtitles download by mo.dbxdb.com 

2
00:00:00,000 --> 00:00:02,199
avant ce chapitre je vous propose

3
00:00:01,199 --> 00:00:04,550
d'essayer de comprendre ensemble

4
00:00:02,550 --> 00:00:06,830
l'intérêt des ou que grâce au système de

5
00:00:04,830 --> 00:00:08,330
composition c'est à dire comment on va

6
00:00:06,330 --> 00:00:09,189
pouvoir créer des fonctions qui vont

7
00:00:08,189 --> 00:00:12,660
englober des outils qui vont permettre

8
00:00:09,660 --> 00:00:13,120
d'avoir de la logique réutilisables donc

9
00:00:12,120 --> 00:00:15,860
on a rapidement créé une fonction une

10
00:00:13,860 --> 00:00:17,360
usine clémente qui permet de faire ce

11
00:00:15,360 --> 00:00:18,279
genre de choses et on va découvrir

12
00:00:17,279 --> 00:00:21,720
d'autres petites fonctions que l'on peut

13
00:00:18,720 --> 00:00:23,720
créer basée justement sur les ou lorsque

14
00:00:21,720 --> 00:00:25,550
l'on va faire c'est qu'on va tout

15
00:00:23,550 --> 00:00:28,230
supprimer on va simplement garder notre

16
00:00:25,230 --> 00:00:31,439
divine si on va tout effacer histoire de

17
00:00:28,439 --> 00:00:33,740
reprendre un peu les choses 2 0 et on va

18
00:00:31,740 --> 00:00:35,960
commencer par reproduire l'exemple que

19
00:00:33,960 --> 00:00:37,489
l'on a faits au début je vous demande de

20
00:00:35,489 --> 00:00:38,049
créer un composant sous forme de

21
00:00:37,049 --> 00:00:41,489
fonction ce coup ci qui va s'appeler

22
00:00:38,489 --> 00:00:43,579
compteur à l'intérieur de ce composant

23
00:00:41,579 --> 00:00:47,710
on veut simplement retourner un bouton

24
00:00:43,710 --> 00:00:49,370
qui aura cette capacité d'incrémenter et

25
00:00:47,370 --> 00:00:51,379
on affichera la valeur d'un crime

26
00:00:49,379 --> 00:00:53,420
entation ce que je vous demande de faire

27
00:00:51,420 --> 00:00:56,940
c'est sans forcément recopier le code de

28
00:00:53,940 --> 00:00:58,129
la première vidéo de créer un look qui

29
00:00:56,129 --> 00:01:00,320
s'appelle lieu entre mantes qui va nous

30
00:00:58,320 --> 00:01:02,750
renvoyer une valeur qui sera la valeur

31
00:01:00,750 --> 00:01:03,760
d'un crémant tation est une méthode

32
00:01:02,760 --> 00:01:06,899
entre mantes

33
00:01:03,899 --> 00:01:08,209
après on peut l'appeler comme on veut et

34
00:01:06,209 --> 00:01:11,670
notre vous qui s'appellerait use in

35
00:01:08,670 --> 00:01:14,040
clémente on lui passerait en première

36
00:01:11,040 --> 00:01:16,909
valeur la valeur initiale donc 10 et en

37
00:01:14,909 --> 00:01:19,950
seconde valeur le pas et en mettrez par

38
00:01:16,950 --> 00:01:21,560
défaut la valeur 1 je vous laisse

39
00:01:19,560 --> 00:01:23,688
essayer de créer cette fonction là et on

40
00:01:21,688 --> 00:01:25,938
corrige ça ensemble juste après alors

41
00:01:23,938 --> 00:01:27,530
comme on l'a vu on peut utiliser le lieu

42
00:01:25,530 --> 00:01:28,030
state est le lieu effect et tous les

43
00:01:27,030 --> 00:01:30,739
autres ou que l'on va voir même les hook

44
00:01:28,739 --> 00:01:31,328
que l'on va créer en pour les utiliser

45
00:01:30,328 --> 00:01:33,650
dans d'autres fonctions tant que ces

46
00:01:31,650 --> 00:01:35,328
fonctions sont définis comme des boucs

47
00:01:33,328 --> 00:01:36,759
c'est à dire elle commence par yooz est

48
00:01:35,759 --> 00:01:38,630
à l'intérieur elles font appel

49
00:01:36,630 --> 00:01:40,430
directement aux autres hook

50
00:01:38,430 --> 00:01:42,470
donc nous dans ce cas là on commence par

51
00:01:40,470 --> 00:01:44,509
créer la fonction donc c'est très simple

52
00:01:42,509 --> 00:01:46,938
en fait on use une clémence ont réfléchi

53
00:01:44,938 --> 00:01:49,530
aux arguments donc on avait dit qu'on a

54
00:01:46,530 --> 00:01:51,019
deux arguments la valeur initiale qu'on

55
00:01:49,019 --> 00:01:53,630
va appeler initial value et un second

56
00:01:51,630 --> 00:01:55,849
paramètre qui sera le pas et on avait

57
00:01:53,849 --> 00:01:57,290
dit que la valeur ça serait comme par

58
00:01:55,290 --> 00:02:00,989
défaut cette valeur là on peut aussi l'a

59
00:01:57,989 --> 00:02:02,159
spécifié à 0 par des fonds

60
00:02:00,159 --> 00:02:03,590
donc on va avoir besoin au fil du temps

61
00:02:02,590 --> 00:02:06,968
mais au fil des incrémentation de

62
00:02:03,968 --> 00:02:08,249
mémoriser là où on en est au niveau du

63
00:02:06,249 --> 00:02:08,080
compteur on doit utiliser pour cela un

64
00:02:08,080 --> 00:02:11,949
état local

65
00:02:08,949 --> 00:02:14,348
donc on va utiliser la fonction use

66
00:02:11,348 --> 00:02:16,530
state donc automatiquement visual studio

67
00:02:14,530 --> 00:02:18,060
code importe les choses de c'est plutôt

68
00:02:16,060 --> 00:02:21,489
pratique dans ce lieu the state

69
00:02:18,489 --> 00:02:24,269
on met toujours la valeur initiale

70
00:02:21,269 --> 00:02:26,190
soyouz the state va toujours envoyer un

71
00:02:24,190 --> 00:02:29,949
tableau de taille 2 avec en premier la

72
00:02:26,949 --> 00:02:31,500
valeur qui correspond à l'état dont va

73
00:02:29,500 --> 00:02:32,360
l'appeler quand tu es en second le

74
00:02:31,360 --> 00:02:36,949
secteur qui va permettre de changer la

75
00:02:32,949 --> 00:02:37,310
valeur dans l'état cette koons ce que

76
00:02:36,310 --> 00:02:40,470
l'on veut exporter

77
00:02:37,470 --> 00:02:41,120
on peut le faire tout de suite s'est

78
00:02:40,120 --> 00:02:43,860
exporté la valeur qui correspond au

79
00:02:41,860 --> 00:02:45,780
compteur donc la valeur d'état et

80
00:02:43,780 --> 00:02:47,848
ensuite une fonction in clémente que

81
00:02:45,848 --> 00:02:49,199
l'on va devoir du coup créé parce

82
00:02:47,199 --> 00:02:52,870
qu'elle n'existe pas où je vais créer

83
00:02:49,870 --> 00:02:56,239
cette fonction là elle s'appelle entre

84
00:02:52,239 --> 00:02:58,500
mantes et c'est une fonction qui pour

85
00:02:56,500 --> 00:02:59,239
l'instant bas ne fait rien et à

86
00:02:58,239 --> 00:03:02,739
l'intérieur de cette fonction je vais

87
00:02:59,739 --> 00:03:04,229
faire un set kunz et je vais incrémenté

88
00:03:02,229 --> 00:03:06,690
la valeur et là j'ai maintenant mon oud

89
00:03:04,690 --> 00:03:09,840
personnalisé qui s'appelle incrémente

90
00:03:06,840 --> 00:03:10,190
donc je vais sauvegarde et on va voir

91
00:03:09,190 --> 00:03:13,539
s'il fonctionne convenablement

92
00:03:10,539 --> 00:03:15,239
donc au niveau de ma console je n'ai pas

93
00:03:13,239 --> 00:03:16,430
d'erreur mais effectivement je ne vois

94
00:03:15,430 --> 00:03:17,720
rien parce que j'ai oublié de mettre le

95
00:03:16,720 --> 00:03:22,410
compteur ici

96
00:03:17,410 --> 00:03:23,269
voilà donc je sauvegarde

97
00:03:22,269 --> 00:03:25,979
j'ai bien au bouton et quand je clique

98
00:03:23,979 --> 00:03:27,840
ça ne s'incrémente pas parce que je n'ai

99
00:03:25,840 --> 00:03:29,549
pas encore appelé la fonction incrémente

100
00:03:27,549 --> 00:03:30,979
donc là je vais lui dire lorsque tu clic

101
00:03:29,979 --> 00:03:34,940
en clic

102
00:03:30,940 --> 00:03:35,030
je veux que tu lances incrémente et

103
00:03:34,030 --> 00:03:36,500
maintenant ça s'incrémente

104
00:03:35,500 --> 00:03:38,400
convenablement

105
00:03:36,400 --> 00:03:39,348
donc là on s'est créé un petit hook

106
00:03:38,348 --> 00:03:41,639
personnalisé que l'on va pouvoir

107
00:03:39,639 --> 00:03:44,829
réutiliser dans d'autres fonctions qui

108
00:03:41,829 --> 00:03:47,470
permet d'incrémenter une valeur alors

109
00:03:44,470 --> 00:03:49,068
maintenant je vous demande un nouveau

110
00:03:47,068 --> 00:03:51,780
personnalisés encore une fois je

111
00:03:49,780 --> 00:03:53,098
m'imagine j'aimerais bien avoir une

112
00:03:51,098 --> 00:03:55,139
petite tchèque box pour afficher ou non

113
00:03:53,139 --> 00:03:58,509
le compteur donc là on va s'imaginer

114
00:03:55,509 --> 00:04:02,870
avoir un nouveau composant que l'on va

115
00:03:58,870 --> 00:04:04,680
appeler ap qui va permettre de

116
00:04:02,680 --> 00:04:07,810
représenter notre application dans ce

117
00:04:04,810 --> 00:04:12,690
composant je retourne une div qui

118
00:04:07,690 --> 00:04:14,819
contiendra notre compteur et je vais

119
00:04:12,819 --> 00:04:18,799
ensuite utiliser cette application au

120
00:04:14,799 --> 00:04:19,250
niveau de mon jeu demont renders donc

121
00:04:18,250 --> 00:04:22,899
au-dessus j'aimerais bien avoir un

122
00:04:19,899 --> 00:04:26,660
afficher le compteur et je m'imagine

123
00:04:22,660 --> 00:04:27,110
avoir un input de type chaque box et

124
00:04:26,110 --> 00:04:29,910
quand je vais changer la valeur de cette

125
00:04:27,910 --> 00:04:32,949
check boxe ça va appeler une méthode qui

126
00:04:29,949 --> 00:04:35,709
s'appelle toggle compteur par exemple et

127
00:04:32,709 --> 00:04:38,800
pour savoir si le composant est visible

128
00:04:35,800 --> 00:04:42,139
on va avoir une propriété ject qui va

129
00:04:38,139 --> 00:04:46,569
s'appeler compteur visible

130
00:04:42,569 --> 00:04:47,209
voilà donc là ça serait mon champ qui

131
00:04:46,209 --> 00:04:49,829
permettrait d'afficher ou de masquer

132
00:04:47,829 --> 00:04:50,600
notre compteur et après peut-être en

133
00:04:49,600 --> 00:04:52,560
mettrez un petit saut de ligne

134
00:04:50,560 --> 00:04:54,630
donc pour mettre en place ce système de

135
00:04:52,630 --> 00:04:56,970
top gun j'aimerais bien utiliser un hook

136
00:04:54,970 --> 00:04:57,978
personnalisés donc c'est vous qui

137
00:04:56,978 --> 00:05:00,990
l'aurait le format suivant

138
00:04:57,990 --> 00:05:03,819
ça serait un hook qui renverrait un

139
00:05:00,819 --> 00:05:05,339
tableau de taille 2 on aurait un premier

140
00:05:03,339 --> 00:05:08,259
la valeur donc nous mettrait compteur

141
00:05:05,259 --> 00:05:09,199
visible et en 2d une fonction qui

142
00:05:08,199 --> 00:05:11,550
permettrait de tout glisse est à dire de

143
00:05:09,550 --> 00:05:15,800
changer la valeur de trous à falls et là

144
00:05:11,800 --> 00:05:15,478
on l'appellerait tout gueule compteur

145
00:05:15,478 --> 00:05:20,839
nôtres ou qu'on l'appellerait use toggle

146
00:05:18,839 --> 00:05:24,949
et on lui passerait la valeur initiale

147
00:05:20,949 --> 00:05:26,579
qui serait par exemple trop ce que je

148
00:05:24,579 --> 00:05:30,800
vous demande maintenant c'est de créer

149
00:05:26,800 --> 00:05:31,190
ce book personnalisés yooz toggle qui

150
00:05:30,190 --> 00:05:33,509
prendrait en paramètre la valeur

151
00:05:31,509 --> 00:05:37,728
initiale et on lui dirait que par défaut

152
00:05:33,728 --> 00:05:40,889
ça serait trous encore que peu importe

153
00:05:37,889 --> 00:05:43,180
je vous laisse essayer de créer une code

154
00:05:40,180 --> 00:05:46,769
est encore riche ensemble juste après

155
00:05:43,769 --> 00:05:48,660
donc comme pour notre using vraiment ce

156
00:05:46,660 --> 00:05:50,459
et use google il va avoir besoin de

157
00:05:48,459 --> 00:05:52,380
mémoriser un état de savoir est-ce que

158
00:05:50,380 --> 00:05:55,829
actuellement on a mieux oui ou non

159
00:05:52,829 --> 00:05:57,990
donc là on va faire un constat on va

160
00:05:55,990 --> 00:06:00,579
l'appeler value on utilise des choses

161
00:05:57,579 --> 00:06:02,848
génériques et set value et on lui dira

162
00:06:00,848 --> 00:06:05,860
de faire un news state où ça permettra

163
00:06:02,860 --> 00:06:07,199
de sauvegarder l'état et on lui donnera

164
00:06:05,199 --> 00:06:09,740
comme valeur initiale initial va lieu

165
00:06:07,740 --> 00:06:11,819
maintenant je vais créer une constante

166
00:06:09,819 --> 00:06:14,829
qui va permettre de doubler c'est à dire

167
00:06:11,829 --> 00:06:17,228
d'alterner la valeur ça sera une

168
00:06:14,228 --> 00:06:21,529
fonction et cette fonction elle fera un

169
00:06:17,529 --> 00:06:23,000
set value et vu qu'elle change la valeur

170
00:06:21,000 --> 00:06:26,230
j'utilise plutôt un call back

171
00:06:23,230 --> 00:06:27,560
quand lady v sera différent devait donc

172
00:06:26,560 --> 00:06:29,819
si la valeur était trop ça deviendra

173
00:06:27,819 --> 00:06:31,319
folle c'est si la valeur était folle ça

174
00:06:29,319 --> 00:06:33,690
deviendra trop maintenant je peux

175
00:06:31,690 --> 00:06:36,610
retourner les différents changements

176
00:06:33,610 --> 00:06:39,610
d'état donc je vais retourner la valeur

177
00:06:36,610 --> 00:06:42,990
value et la fonction d'auto gueule

178
00:06:39,990 --> 00:06:44,250
automatiquement ça permettra de mettre

179
00:06:42,250 --> 00:06:46,350
dans le compteur visible la valeur donc

180
00:06:44,350 --> 00:06:48,360
falls outre on est dans ta gueule

181
00:06:46,360 --> 00:06:50,519
counter ça mettra la fonction qui permet

182
00:06:48,519 --> 00:06:52,310
de changer la valeur

183
00:06:50,310 --> 00:06:54,899
si maintenant je sauvegarde on voit

184
00:06:52,899 --> 00:06:57,850
qu'on a pris l'erreur et j'ai maintenant

185
00:06:54,850 --> 00:06:59,069
ce petit bouton l'a donc lorsque je

186
00:06:57,069 --> 00:07:01,050
coche où je décoche ça va changer la

187
00:06:59,050 --> 00:07:03,540
valeur de compteurs visible je peux du

188
00:07:01,540 --> 00:07:05,699
coup utiliser cette condition là à ce

189
00:07:03,699 --> 00:07:07,589
niveau là et lui dire si le compteur est

190
00:07:05,589 --> 00:07:11,120
visible je veux que tu affiches le

191
00:07:07,120 --> 00:07:14,410
compteur sinon je veux rien faire et

192
00:07:11,410 --> 00:07:16,829
dans ce cas là hop vous voyez que très

193
00:07:14,829 --> 00:07:18,750
simplement je maintenant un petit hook

194
00:07:16,750 --> 00:07:21,910
personnalisé qui s'appelle toggle qui me

195
00:07:18,910 --> 00:07:24,550
permet d'alterner d'alterner une valeur

196
00:07:21,550 --> 00:07:26,220
si j'avais à écrire la même logique ici

197
00:07:24,220 --> 00:07:27,290
avec un système de classe mais je serai

198
00:07:26,290 --> 00:07:29,910
obligé de faire un set state de venir

199
00:07:27,910 --> 00:07:31,740
changer la valeur alors que la belge est

200
00:07:29,740 --> 00:07:32,720
séparée dans une petite fonction qui me

201
00:07:31,720 --> 00:07:35,918
permet d'avoir du code qui est

202
00:07:32,918 --> 00:07:38,529
réutilisable et si on regarde dans la

203
00:07:35,529 --> 00:07:42,620
partie applications puis six composants

204
00:07:38,620 --> 00:07:45,668
hop là j'ai bien mon application avec

205
00:07:42,668 --> 00:07:47,160
mon look toggle et si vous le déplie je

206
00:07:45,160 --> 00:07:49,589
vois qu'il a comme et à trous donc la

207
00:07:47,589 --> 00:07:50,240
valeur de l'état en fait ça parce qu'il

208
00:07:49,240 --> 00:07:53,949
détecte bien us state et me donne la

209
00:07:50,949 --> 00:07:54,149
valeur qui correspond aux states

210
00:07:53,149 --> 00:07:56,709
maintenant on va continuer notre

211
00:07:54,709 --> 00:07:59,240
exploration est ce que je vous propose

212
00:07:56,240 --> 00:08:01,360
de faire c'est de créer un look qui

213
00:07:59,360 --> 00:08:03,160
fonctionnerait comme le using clémence

214
00:08:01,160 --> 00:08:05,380
sauf qu'il s'appellerait news auto in

215
00:08:03,380 --> 00:08:06,420
clémente donc ça serait un look quand

216
00:08:05,420 --> 00:08:10,949
l'appel il un crime entre les choses de

217
00:08:06,949 --> 00:08:14,550
manière automatique et il aurait la même

218
00:08:10,550 --> 00:08:16,500
signature que le use in clémente

219
00:08:14,500 --> 00:08:19,850
c'est à dire qu'il prendra part m la

220
00:08:16,850 --> 00:08:23,209
valeur initiale et la valeur de saut

221
00:08:19,209 --> 00:08:25,209
comme ceux ci devraient mettre juste là

222
00:08:23,209 --> 00:08:27,370
donc je vous laisse essayer de le créer

223
00:08:25,370 --> 00:08:30,079
encore riche a encore une fois ensemble

224
00:08:27,079 --> 00:08:31,259
juste après donc ce lieu de taux entre

225
00:08:30,259 --> 00:08:33,459
mantes finalement il fonctionne un peu

226
00:08:31,459 --> 00:08:35,710
comme le using vraiment et il va avoir

227
00:08:33,710 --> 00:08:37,630
en plus besoin de démarrer un timer pour

228
00:08:35,630 --> 00:08:39,429
incrémenté de manière automatique

229
00:08:37,429 --> 00:08:40,200
donc ça veut dire qu'on va utiliser le

230
00:08:39,200 --> 00:08:42,700
youth state pour créer un état mais on

231
00:08:40,700 --> 00:08:45,049
peut aussi utiliser dans notre ou

232
00:08:42,049 --> 00:08:47,590
personnaliser le use effect on commence

233
00:08:45,590 --> 00:08:52,679
par le juge aux states on fait un

234
00:08:47,679 --> 00:08:54,970
constat count et 7 kunz et on fera use

235
00:08:52,970 --> 00:08:56,740
state et on lui donnera la valeur

236
00:08:54,740 --> 00:08:58,200
initiale

237
00:08:56,200 --> 00:09:00,880
maintenant je vais créer mon petit timer

238
00:08:58,880 --> 00:09:02,590
donc ce timer vu que j'aurais besoin

239
00:09:00,590 --> 00:09:04,389
ensuite supprimé je vais faire à use

240
00:09:02,389 --> 00:09:08,700
effect je veux lui passer un premier

241
00:09:04,700 --> 00:09:11,570
paramètre une fonction voilà et en selon

242
00:09:08,570 --> 00:09:14,779
paramètres un tableau de dépendance vu

243
00:09:11,779 --> 00:09:17,509
qu'ici ce timer aura besoin d'être

244
00:09:14,509 --> 00:09:19,389
démarré avec le montage du composant est

245
00:09:17,389 --> 00:09:21,610
démontée à la fin de l'aide du cycle de

246
00:09:19,610 --> 00:09:23,019
vie du composant je ne mets aucune

247
00:09:21,019 --> 00:09:26,720
dépendance à l'intérieur de ce lieu est

248
00:09:23,720 --> 00:09:28,240
fait je vais faire une nouvelle

249
00:09:26,240 --> 00:09:30,429
constante qui va contenir le timer et je

250
00:09:28,429 --> 00:09:33,950
vais demander de démarrer un timer en

251
00:09:30,950 --> 00:09:35,740
faisant un cet intervalle à l'intérieur

252
00:09:33,740 --> 00:09:38,029
de cet intervalle je vais avoir une

253
00:09:35,029 --> 00:09:45,720
fonction qui fera un set count et qui

254
00:09:38,720 --> 00:09:47,320
incrémente aura du parc.ce timer va

255
00:09:45,320 --> 00:09:49,299
avoir une durée de une seconde par

256
00:09:47,299 --> 00:09:52,789
défaut et je n'oublie pas de le nettoyer

257
00:09:49,789 --> 00:09:54,159
à la fin dès que vous étiez un timer ou

258
00:09:52,159 --> 00:09:55,470
que vous abonner à des événements pensé

259
00:09:54,470 --> 00:09:57,549
tout de suite tout de suite tout de

260
00:09:55,549 --> 00:09:59,919
suite a créé la fonction de nettoyage

261
00:09:57,919 --> 00:10:03,840
donc là je fais simplement une cuillère

262
00:09:59,840 --> 00:10:06,610
intervalles et je nettoie mon timer

263
00:10:03,610 --> 00:10:07,529
maintenant que mon lieu effecté créé je

264
00:10:06,529 --> 00:10:10,909
peux choisir ce que je vais exporter

265
00:10:07,909 --> 00:10:12,130
donc là je vais retourner quelque chose

266
00:10:10,130 --> 00:10:14,169
et je n'ai pas besoin finalement de

267
00:10:12,169 --> 00:10:16,480
retourner la partie incrémente je peux

268
00:10:14,480 --> 00:10:19,340
simplement le dire je veux que tu

269
00:10:16,340 --> 00:10:21,370
retournes le compteur et dans ce cas là

270
00:10:19,370 --> 00:10:24,799
au niveau de mon compteur ici je peux

271
00:10:21,799 --> 00:10:26,200
lui dire j'aimerais simplement avoir

272
00:10:24,200 --> 00:10:29,899
compte est automatiquement ça va nous

273
00:10:26,899 --> 00:10:31,509
renvoyer une valeur qui déclenchera un

274
00:10:29,509 --> 00:10:33,429
set compte toutes les secondes et qui

275
00:10:31,429 --> 00:10:36,409
fera un nouveau rendu d'où ce composant

276
00:10:33,409 --> 00:10:37,500
là si je sauvegarde maintenant je

277
00:10:36,500 --> 00:10:39,820
regarde au niveau de ma console parce

278
00:10:37,820 --> 00:10:41,049
que j'ai pas mal de petites erreurs

279
00:10:39,049 --> 00:10:43,950
on me dit que in crémant 19-10 find

280
00:10:41,950 --> 00:10:44,909
effectivement je n'ai plus besoin ici

281
00:10:43,909 --> 00:10:47,840
demain on clique

282
00:10:44,840 --> 00:10:50,630
ça ne sert plus à rien et là j'ai mon

283
00:10:47,630 --> 00:10:53,529
bouton qui tout seul s'incrémente 2 1

284
00:10:50,529 --> 00:10:54,090
et si je le souhaite mais je peux

285
00:10:53,090 --> 00:10:56,620
changer les paramètres pour lui dire par

286
00:10:54,620 --> 00:10:59,720
exemple incréments de toi à partir de la

287
00:10:56,720 --> 00:11:02,720
valeur zéro et de 10 en 10 et vous

288
00:10:59,720 --> 00:11:03,000
commencez je pense à percevoir l'intérêt

289
00:11:02,000 --> 00:11:05,620
que peut avoir ce genre de look

290
00:11:03,620 --> 00:11:07,299
vous pouvez vraiment isolé une partie de

291
00:11:05,299 --> 00:11:09,159
la logique dans une fonction que vous

292
00:11:07,159 --> 00:11:11,049
pouvez ensuite garder de côté et

293
00:11:09,049 --> 00:11:13,779
automatiquement vous simplifier le code

294
00:11:11,779 --> 00:11:14,340
à l'intérieur de vos composants pour

295
00:11:13,340 --> 00:11:17,899
vous concentrer vraiment sur la partie

296
00:11:14,899 --> 00:11:19,929
avant du et d'ailleurs pour soyouz une

297
00:11:17,929 --> 00:11:21,669
crème mans auto incrémente vous pouvez

298
00:11:19,669 --> 00:11:23,139
même faire appel à votre haute route

299
00:11:21,139 --> 00:11:25,509
personnalisée vous pouvez lui dire ici

300
00:11:23,509 --> 00:11:27,429
je vais avoir une fonction qui va

301
00:11:25,429 --> 00:11:29,200
s'appeler une clémente et je vais

302
00:11:27,200 --> 00:11:32,059
utiliser mon use in clémente

303
00:11:29,059 --> 00:11:34,179
je passerai la valeur initiale et la

304
00:11:32,179 --> 00:11:36,940
valeur du saut à ce niveau là au niveau

305
00:11:34,940 --> 00:11:39,470
du vieux effect je n'ai plus besoin

306
00:11:36,470 --> 00:11:41,679
d'appeler cette count je peux simplement

307
00:11:39,679 --> 00:11:42,299
lui demander de faire un appel à une

308
00:11:41,299 --> 00:11:45,370
clémente

309
00:11:42,370 --> 00:11:49,259
donc là on a un look personnalisé qui

310
00:11:45,259 --> 00:11:51,850
utilise un autre ou personnalisés et si

311
00:11:49,850 --> 00:11:52,019
je regarde au niveau de la partie

312
00:11:51,019 --> 00:11:55,909
composants denrées acte des foules

313
00:11:52,909 --> 00:11:56,250
on voit qu'on a notre look au niveau de

314
00:11:55,250 --> 00:11:58,659
compteurs qui s'appelle otto entre

315
00:11:56,659 --> 00:12:00,519
mantes et quand je déplie en un look

316
00:11:58,519 --> 00:12:02,830
entre mantes qui contient l'état qui est

317
00:12:00,830 --> 00:12:03,100
la valeur qui change

318
00:12:02,100 --> 00:12:05,568
donc ça aussi c'est un aspect très

319
00:12:03,568 --> 00:12:06,250
intéressant d où qu vous avez la

320
00:12:05,250 --> 00:12:09,659
possibilité comme en fait des fonctions

321
00:12:06,659 --> 00:12:12,750
basiques de les combiner et de pouvoir

322
00:12:09,750 --> 00:12:13,000
composer de nouveaux ou à partir

323
00:12:12,000 --> 00:12:15,190
d'autres gook

324
00:12:13,190 --> 00:12:16,750
alors on va finir avec un dernier petit

325
00:12:15,750 --> 00:12:17,169
hook

326
00:12:16,169 --> 00:12:21,549
c'est un hook qui permettrait de

327
00:12:17,549 --> 00:12:22,208
récupérer des données en ajas donc

328
00:12:21,208 --> 00:12:26,948
imaginons on aimerait bien créer une

329
00:12:22,948 --> 00:12:31,130
liste de 2 d'éléments à faire donc on va

330
00:12:26,130 --> 00:12:32,350
utiliser gissen placer ici donc qui est

331
00:12:31,350 --> 00:12:34,909
une fois ça pays qui vous permet de

332
00:12:32,909 --> 00:12:37,220
tester simplement les choses

333
00:12:34,220 --> 00:12:37,078
l'europe j'aimerais bien aller sur le

334
00:12:37,078 --> 00:12:40,409
site

335
00:12:37,409 --> 00:12:42,259
donc il ya une api qui s'appelle tout

336
00:12:40,259 --> 00:12:42,360
doux ici et qui nous renvoie 200

337
00:12:42,360 --> 00:12:44,809
éléments

338
00:12:42,809 --> 00:12:46,940
alors nous on veut pas 200 éléments on

339
00:12:44,940 --> 00:12:49,769
va mettre un point d'interrogation alors

340
00:12:46,769 --> 00:12:53,708
score limite égale 10e simplement les

341
00:12:49,708 --> 00:12:54,250
dix derniers hits m donc on aimerait

342
00:12:53,250 --> 00:12:56,899
bien avoir une fonction qui nous

343
00:12:54,899 --> 00:12:59,779
permettent de récupérer ces éléments là

344
00:12:56,779 --> 00:13:01,250
donc au niveau de mon application je

345
00:12:59,250 --> 00:13:03,529
m'imagine avoir un nouveau composant

346
00:13:01,529 --> 00:13:07,720
qu'on va mettre en dessous qui sera tout

347
00:13:03,720 --> 00:13:08,198
doux liste ce composant je vais aller le

348
00:13:07,198 --> 00:13:11,909
créer au dessus je vais créer une

349
00:13:08,909 --> 00:13:13,039
nouvelle fonction qui s'appelle to do

350
00:13:11,039 --> 00:13:16,769
list à l'intérieur je vais faire un

351
00:13:13,769 --> 00:13:19,948
return et je vais rendre un url qui

352
00:13:16,948 --> 00:13:22,438
contiendra ensuite d elie avec chacun de

353
00:13:19,438 --> 00:13:24,139
nous chacune de nos tâches à faire comme

354
00:13:22,139 --> 00:13:26,448
ceux ci donc pour récupérer les tâches

355
00:13:24,448 --> 00:13:27,399
depuis la pays il va me falloir un état

356
00:13:26,399 --> 00:13:29,750
qui permettra de sauvegarder les

357
00:13:27,750 --> 00:13:31,458
différentes tâches vous je vais créer

358
00:13:29,458 --> 00:13:32,169
une nouvelle constante qui sera le

359
00:13:31,169 --> 00:13:34,399
résultat d'un look donc ça sera un

360
00:13:32,399 --> 00:13:37,139
tableau avec tout doux la liste des

361
00:13:34,139 --> 00:13:39,769
éléments et 7 to do et par défaut je

362
00:13:37,769 --> 00:13:40,990
vais lui donner de lui dire que c'est un

363
00:13:39,990 --> 00:13:43,649
tabloïd

364
00:13:40,649 --> 00:13:45,139
donc là je crée un petit état local au

365
00:13:43,139 --> 00:13:47,568
niveau de mon composants maintenant j'ai

366
00:13:45,568 --> 00:13:48,009
besoin de lui dire b que le composant

367
00:13:47,009 --> 00:13:50,269
est monté j'aimerais bien que tu fasses

368
00:13:48,269 --> 00:13:53,188
un appel ajax pour récupérer les

369
00:13:50,188 --> 00:13:54,339
informations donc typiquement là on est

370
00:13:53,339 --> 00:13:57,659
dans le cas de l'utilisation du haut

371
00:13:54,659 --> 00:14:02,688
effect donc je fais un lieu effect hop

372
00:13:57,688 --> 00:14:02,058
je vais lui passer une fonction

373
00:14:03,058 --> 00:14:07,038
et à l'intérieur on fera notre

374
00:14:05,038 --> 00:14:10,739
traitement et soyaux effect ne dépend de

375
00:14:07,739 --> 00:14:13,318
rien le problème c'est que là on veut

376
00:14:10,318 --> 00:14:15,499
faire un appel ajax à cette url là donc

377
00:14:13,499 --> 00:14:17,028
on pourrait être tenté d'utiliser une

378
00:14:15,028 --> 00:14:19,068
fonction asynchrone en écrivain le white

379
00:14:17,068 --> 00:14:21,499
ici malheureusement si vous faites ça

380
00:14:19,499 --> 00:14:23,089
vous allez avoir un problème parce que

381
00:14:21,089 --> 00:14:26,639
si vous écrivez un white la fonction va

382
00:14:23,639 --> 00:14:28,279
maintenant retourner une promesse or use

383
00:14:26,279 --> 00:14:30,229
effect lui latin que vous retourniez une

384
00:14:28,229 --> 00:14:31,509
fonction est pas une promesse donc si

385
00:14:30,509 --> 00:14:33,558
jamais vous voulez travailler avec les

386
00:14:31,558 --> 00:14:34,749
promesses c'est pas idéal mais ce que

387
00:14:33,749 --> 00:14:37,979
vous devez faire c'est créer une

388
00:14:34,979 --> 00:14:42,318
fonction qui va s'auto appelé qui elle

389
00:14:37,318 --> 00:14:45,839
sera asynchrone comme ceux ci et là vous

390
00:14:42,839 --> 00:14:47,719
appelez directement cette fonction c'est

391
00:14:45,719 --> 00:14:49,308
un petit détail mais ça évite d'avoir le

392
00:14:47,308 --> 00:14:51,649
problème avec le retour de promesses

393
00:14:49,649 --> 00:14:52,178
alors pour l'instant il n'y a pas de

394
00:14:51,178 --> 00:14:53,859
méthode simple en javascript pour faire

395
00:14:52,859 --> 00:14:55,999
ça en fait il ya quelque chose qui est

396
00:14:53,999 --> 00:14:57,318
l'un des standards mais est ce qu on

397
00:14:55,318 --> 00:14:59,568
pourrait s'imaginer plus tard quand ça

398
00:14:57,568 --> 00:15:02,759
arrivera si ça arrive c'est sauvegarder

399
00:14:59,759 --> 00:15:04,428
la promesse dans une variable on

400
00:15:02,428 --> 00:15:07,408
l'appellerait paix et pouvoir le dire

401
00:15:04,408 --> 00:15:10,308
qu'au niveau de la fonction de nettoyage

402
00:15:07,308 --> 00:15:11,499
ça serait une fonction qui annulerait en

403
00:15:10,499 --> 00:15:13,908
fait la promesse comme ça si jamais le

404
00:15:11,908 --> 00:15:15,529
composant et des montées avant d'avoir

405
00:15:13,529 --> 00:15:17,538
obtenu le résultat qu'il attendrait ça

406
00:15:15,538 --> 00:15:19,099
éviterait de continuer à faire son

407
00:15:17,099 --> 00:15:20,109
exécution donc ça peut être quelque

408
00:15:19,109 --> 00:15:23,938
chose qui est intéressant mais à l'heure

409
00:15:20,938 --> 00:15:24,009
actuelle on ne peut pas le faire en tout

410
00:15:23,009 --> 00:15:27,119
cas on peut pas le faire sans rajouter

411
00:15:24,119 --> 00:15:28,599
deux librairies ou du code en plus donc

412
00:15:27,599 --> 00:15:30,708
à l'intérieur de cette fonction

413
00:15:28,708 --> 00:15:34,899
asynchrone on va récupérer la réponse

414
00:15:30,899 --> 00:15:38,318
depuis la pays en faisant un le white de

415
00:15:34,318 --> 00:15:39,279
fait et on va récupérer le résultat une

416
00:15:38,279 --> 00:15:42,808
fois qu'on a ce résultat on va récupérer

417
00:15:39,808 --> 00:15:47,749
les datas confort response data égale

418
00:15:42,749 --> 00:15:49,759
awaits de responsbles y sonne si le

419
00:15:47,759 --> 00:15:52,589
résultat est correct donc si la réponse

420
00:15:49,589 --> 00:15:54,979
nous a renvoyé un bon statut dans ce cas

421
00:15:52,979 --> 00:15:56,028
là on va pouvoir faire un traitement

422
00:15:54,028 --> 00:15:59,308
dans le cas contraire on va simplement

423
00:15:56,308 --> 00:16:01,788
faire un alerte de responsables que l'on

424
00:15:59,788 --> 00:16:02,019
va signifier à l'élite

425
00:16:01,019 --> 00:16:04,908
ça veut dire que le serveur nous a pas

426
00:16:02,908 --> 00:16:06,259
répondu correctement mais on sait pas

427
00:16:04,259 --> 00:16:06,409
trop pourquoi

428
00:16:08,409 --> 00:16:12,269
on ne se focalise vraiment pas ici sur

429
00:16:10,269 --> 00:16:14,759
la gestion des erreurs si la réponse est

430
00:16:12,759 --> 00:16:16,350
correct parce qu'il faudrait faire c'est

431
00:16:14,350 --> 00:16:18,389
changer la valeur des to do list donc là

432
00:16:16,389 --> 00:16:21,370
on lui demanderait de faire un set to do

433
00:16:18,370 --> 00:16:23,339
et on lui passera un paramètre le retour

434
00:16:21,339 --> 00:16:25,708
de la paix y ait là on a une petite

435
00:16:23,708 --> 00:16:28,448
partie qui va permettre de gérer la

436
00:16:25,448 --> 00:16:30,028
synchronie maintenant au niveau de mon

437
00:16:28,028 --> 00:16:32,698
lit je peux lui dire j'aimerais bien

438
00:16:30,698 --> 00:16:35,980
afficher chacune de mes tout doux donc

439
00:16:32,980 --> 00:16:39,769
je vais faire un petit tout doux points

440
00:16:35,769 --> 00:16:41,639
matt et je vais lancer une fonction et

441
00:16:39,639 --> 00:16:44,889
cette fonction elle va recevoir chaque

442
00:16:41,889 --> 00:16:46,379
élément est elle affichera simplement le

443
00:16:44,379 --> 00:16:49,299
titre de la tâche donc nous on affichera

444
00:16:46,299 --> 00:16:51,509
t points titan et on n'oublie pas de

445
00:16:49,509 --> 00:16:53,208
bien fermer la parenthèse et l'accolade

446
00:16:51,208 --> 00:16:56,649
si je sauvegarde maintenant et que je

447
00:16:53,649 --> 00:16:58,799
réactualise ma page on voit que ça met

448
00:16:56,799 --> 00:17:00,899
un petit temps à charger et ensuite ça

449
00:16:58,899 --> 00:17:03,929
m'affiche les éléments de matoto liste

450
00:17:00,929 --> 00:17:04,220
lors on pourrait se dire ce serait sympa

451
00:17:03,220 --> 00:17:05,599
d'afficher un retour visuel à

452
00:17:04,599 --> 00:17:07,919
l'utilisateur pour lui dire que c'est en

453
00:17:05,919 --> 00:17:10,990
train de charger par exemple donc on

454
00:17:07,990 --> 00:17:12,390
pourrait faire une constante que l'on

455
00:17:10,390 --> 00:17:16,939
appellerait loading et ensuite on aurait

456
00:17:12,939 --> 00:17:18,029
7 loading et par des fonds aux forêts

457
00:17:16,029 --> 00:17:20,609
use the state et onu préciserai que la

458
00:17:18,609 --> 00:17:22,318
valeur ces trous par défaut c'est en

459
00:17:20,318 --> 00:17:23,240
train de charger

460
00:17:22,240 --> 00:17:25,890
lorsqu'on a fini notre tête traitement

461
00:17:23,890 --> 00:17:27,659
asynchrone ici on pourra faire un set

462
00:17:25,659 --> 00:17:29,788
loading et lui dire que la valeur doit

463
00:17:27,788 --> 00:17:32,788
passer à force on a fini le chargement

464
00:17:29,788 --> 00:17:34,140
au niveau du retour de ma fonction je

465
00:17:32,140 --> 00:17:36,690
peux lui dire if loading c'est à dire

466
00:17:34,690 --> 00:17:38,669
est ce qu'il ya un chargement et si un

467
00:17:36,669 --> 00:17:40,259
chargement je veux simplement que tu

468
00:17:38,259 --> 00:17:40,150
affiches le texte chargement avec rien

469
00:17:40,150 --> 00:17:42,450
d'autre

470
00:17:40,450 --> 00:17:44,940
tune affichera le ul que lorsque le

471
00:17:42,940 --> 00:17:47,769
chargement aura fini et que tu auras

472
00:17:44,769 --> 00:17:50,940
fait ce traitement là donc je sauvegarde

473
00:17:47,940 --> 00:17:51,529
et là bas il est peut être un petit peu

474
00:17:50,529 --> 00:17:53,940
trop rapide malheureusement donc on n'a

475
00:17:51,940 --> 00:17:55,440
pas forcément vu mais si je réactualise

476
00:17:53,440 --> 00:17:56,990
on voit le chargement s'afficher très

477
00:17:55,990 --> 00:17:58,640
brièvement

478
00:17:56,640 --> 00:18:00,779
je vais juste changer la valeur de

479
00:17:58,779 --> 00:18:02,669
limites pour qu'ils mettent du temps

480
00:18:00,669 --> 00:18:04,349
nous répondre et là on voit bien qu'on

481
00:18:02,349 --> 00:18:05,779
acharnement et que c'est au bout d'un

482
00:18:04,779 --> 00:18:07,980
certain temps qu'on va voir nos

483
00:18:05,980 --> 00:18:11,960
résultats donc c'est impeccable

484
00:18:07,960 --> 00:18:14,259
on a géré ça maintenant imaginons on se

485
00:18:11,259 --> 00:18:16,470
dit j'aimerais bien avoir un tableau qui

486
00:18:14,470 --> 00:18:20,630
me permettent d'afficher les derniers

487
00:18:16,630 --> 00:18:20,048
les derniers articles ou les derniers

488
00:18:20,048 --> 00:18:22,950
commentaires qu est ce que vous les

489
00:18:20,950 --> 00:18:25,990
filles voilées commentaire allez hop et

490
00:18:22,990 --> 00:18:26,898
en mettra aussi une petite limite donc

491
00:18:25,898 --> 00:18:30,740
on mettra un point d'interrogation

492
00:18:26,740 --> 00:18:33,490
limite égal et en mettra dix essais en

493
00:18:30,490 --> 00:18:35,609
deux camps limites au niveau de ce

494
00:18:33,609 --> 00:18:37,440
tableau là on a différentes choses nous

495
00:18:35,440 --> 00:18:40,929
on va récupérer le nom l'email et le

496
00:18:37,929 --> 00:18:41,450
body qu'on veut trois colonnes donc je

497
00:18:40,450 --> 00:18:45,769
vous demande d'essayer de créer une

498
00:18:41,769 --> 00:18:48,669
fonction qui va s'appeler poste table et

499
00:18:45,669 --> 00:18:50,130
cette fonction elle va elle même faire

500
00:18:48,130 --> 00:18:52,619
l'appel et récupérer le gie sonne en

501
00:18:50,619 --> 00:18:54,089
vrai de manière générale on aurait

502
00:18:52,089 --> 00:18:55,369
plutôt tendance effectivement a passé sa

503
00:18:54,369 --> 00:18:58,990
forme de props mais là c'est vraiment

504
00:18:55,990 --> 00:19:02,179
pour l'exemple essayez de créer ce

505
00:18:58,179 --> 00:19:05,798
composant la donc par défaut le réflexe

506
00:19:02,798 --> 00:19:08,740
serait de retourner une table et à

507
00:19:05,740 --> 00:19:12,259
l'intérieur d'avoir un thé end avec un

508
00:19:08,259 --> 00:19:14,490
tr et dth en or et le titre est ce qu'on

509
00:19:12,490 --> 00:19:22,740
aurait en or l email non non c'est

510
00:19:14,740 --> 00:19:25,349
plutôt le nom l'email et le contenu

511
00:19:22,349 --> 00:19:27,569
remettra ensuite au final on se dit bah

512
00:19:25,569 --> 00:19:29,279
c'est presque la même logique que celle

513
00:19:27,279 --> 00:19:32,919
là donc qu'on s'embête pas on recopie

514
00:19:29,919 --> 00:19:34,288
les éléments et on change juste la

515
00:19:32,288 --> 00:19:36,058
partie api ici pour lui dire j'aimerais

516
00:19:34,058 --> 00:19:39,009
bien récupérer des articles comme ceux

517
00:19:36,009 --> 00:19:42,250
ci on changerait ensuite ce tout doux il

518
00:19:39,250 --> 00:19:44,429
ya ce to do là et on l'appellerait items

519
00:19:42,429 --> 00:19:48,740
ce par exemple en changerait ce set au

520
00:19:44,740 --> 00:19:49,490
dos pour cet item ce la partie loading

521
00:19:48,490 --> 00:19:51,779
on vous l'a gardée elle est très très

522
00:19:49,779 --> 00:19:53,159
bien même pas de problème à ce niveau-là

523
00:19:51,159 --> 00:19:55,409
et à la fin mais je récupère mes items

524
00:19:53,409 --> 00:19:56,029
et je peux faire une petite boucle pour

525
00:19:55,029 --> 00:19:58,769
les afficher dans le tableau que je

526
00:19:56,769 --> 00:19:59,599
pourrais faire un petit body et faire

527
00:19:58,599 --> 00:20:02,690
une petit bout

528
00:19:59,690 --> 00:20:03,269
en lisant items ce point maps et pour

529
00:20:02,269 --> 00:20:06,109
chaque item

530
00:20:03,109 --> 00:20:08,138
je veux que tu génères un tr et à

531
00:20:06,138 --> 00:20:10,628
l'intérieur du tr tu auras un td avec le

532
00:20:08,628 --> 00:20:12,099
nom que je pourrai récupérer en faisant

533
00:20:10,099 --> 00:20:14,288
items point name jeu pourraient

534
00:20:12,288 --> 00:20:17,179
récupérer l'email en faisant items point

535
00:20:14,179 --> 00:20:19,119
email et pour le contenu ces items point

536
00:20:17,119 --> 00:20:20,759
body l'histoire de ne pas avoir de

537
00:20:19,759 --> 00:20:23,898
problème contrairement à tout à l'heure

538
00:20:20,898 --> 00:20:26,240
je vais définir une clé est la clé ça

539
00:20:23,240 --> 00:20:27,419
sera items points et 10 et pour faire

540
00:20:26,419 --> 00:20:30,769
les choses bien je vais faire la clé

541
00:20:27,769 --> 00:20:34,349
aussi au niveau du elie ici je dire que

542
00:20:30,349 --> 00:20:37,659
la clé c'est le l'atout 12 points et 10

543
00:20:34,659 --> 00:20:38,339
et là bas j'ai créé mon composants qui

544
00:20:37,339 --> 00:20:40,359
permet de créer un tableau

545
00:20:38,359 --> 00:20:41,398
ce composant je vais pouvoir ensuite le

546
00:20:40,398 --> 00:20:43,450
charger dans mon composants

547
00:20:41,450 --> 00:20:45,369
d'application donc là on le mettrait ici

548
00:20:43,369 --> 00:20:45,109
on l'appellerait poste table où je

549
00:20:45,109 --> 00:20:48,798
sauvegarde

550
00:20:45,798 --> 00:20:49,138
je reviens sur ma page on voit qu'il ya

551
00:20:48,138 --> 00:20:51,759
chargement qui s'affiché au goût d'un

552
00:20:49,759 --> 00:20:51,529
petit moment on a bien aux différents

553
00:20:51,529 --> 00:20:54,950
éléments

554
00:20:51,950 --> 00:20:56,200
il manque peut-être le nom et l'image et

555
00:20:54,200 --> 00:20:57,148
du peut-être me tromper ah oui dont je

556
00:20:56,148 --> 00:21:00,138
me suis trompé parce que j'ai chargé

557
00:20:57,138 --> 00:21:02,250
poste et c'était comment autant pour moi

558
00:21:00,250 --> 00:21:04,509
donc je réactualise on voit toujours

559
00:21:02,509 --> 00:21:06,009
notre chargement qui s'affiche et

560
00:21:04,009 --> 00:21:08,288
ensuite au bout d'un moment on a nos

561
00:21:06,288 --> 00:21:10,538
différentes colonnes le problème c'est

562
00:21:08,538 --> 00:21:12,099
qu'on est très peu efficace là parce que

563
00:21:10,099 --> 00:21:14,048
finalement on a recopié la logique de

564
00:21:12,048 --> 00:21:15,419
composants à l'autre et on retombe sur

565
00:21:14,419 --> 00:21:17,648
la problématique que je vous avais

566
00:21:15,648 --> 00:21:18,058
évoqué tout à l'heure du coup ce qui

567
00:21:17,058 --> 00:21:20,500
serait très intéressant c'est carrément

568
00:21:18,500 --> 00:21:21,690
de créer un hook personnalisé pour gérer

569
00:21:20,690 --> 00:21:23,980
ce genre de situation parce que c'est

570
00:21:21,980 --> 00:21:25,329
une situation que l'on à deux fois

571
00:21:23,329 --> 00:21:26,038
donc si c'est une situation que l'on a

572
00:21:25,038 --> 00:21:29,779
deux fois mieux vaut séparés dans un

573
00:21:26,779 --> 00:21:32,808
look on l'appellerait use fensch par

574
00:21:29,808 --> 00:21:34,028
exemple ça prendra un paramètre l'url a

575
00:21:32,028 --> 00:21:36,128
appelé et sa récupérerai les résultats

576
00:21:34,128 --> 00:21:37,500
au niveau du retour de quoi j'ai besoin

577
00:21:36,500 --> 00:21:39,849
dans les composants j'ai besoin de

578
00:21:37,849 --> 00:21:41,710
savoir si on est en train de charger et

579
00:21:39,710 --> 00:21:41,119
j'ai besoin de savoir est ce qu on a les

580
00:21:41,119 --> 00:21:43,569
résultats

581
00:21:41,569 --> 00:21:46,730
donc là je vais simplement retourner un

582
00:21:43,730 --> 00:21:48,970
tableau avec nos digues et items qui

583
00:21:46,970 --> 00:21:50,200
seraient les différents éléments

584
00:21:48,200 --> 00:21:52,509
je vais me créer un état donc là je vais

585
00:21:50,509 --> 00:21:54,279
fusionner pour gagner pour gagner en

586
00:21:52,279 --> 00:21:58,109
clarté et en performance en faisant un

587
00:21:54,109 --> 00:21:59,190
constat state 7 state et on va lui dire

588
00:21:58,190 --> 00:22:01,240
que la valeur par défaut

589
00:21:59,240 --> 00:22:03,369
c'est un objet qui contient les

590
00:22:01,369 --> 00:22:06,589
différents items donc on mettra items ce

591
00:22:03,589 --> 00:22:08,048
qui est un tableau vide et ensuite on

592
00:22:06,048 --> 00:22:10,048
mettra loading qui est par défaut à trou

593
00:22:08,048 --> 00:22:12,289
aux plats

594
00:22:10,289 --> 00:22:14,059
attention à l'auto complétion de vs code

595
00:22:12,059 --> 00:22:15,220
aller un peu violente lorsque j'exporte

596
00:22:14,220 --> 00:22:17,839
les choses je pourrais lui dire c'est au

597
00:22:15,839 --> 00:22:21,420
niveau de state que je vais récupérer

598
00:22:17,420 --> 00:22:25,420
loading et au niveau de stay que je vais

599
00:22:21,420 --> 00:22:26,140
récupérer items si la partie logique je

600
00:22:25,140 --> 00:22:28,730
peux l'extraire depuis le poste table

601
00:22:26,730 --> 00:22:31,829
donc je vais récupérer toutes ces

602
00:22:28,829 --> 00:22:33,319
parties là qui m'intéressent et elle est

603
00:22:31,319 --> 00:22:34,779
la déplacer au niveau de mon oeil ou

604
00:22:33,779 --> 00:22:36,259
sketches

605
00:22:34,259 --> 00:22:41,990
donc là je vais recevoir un paramètre

606
00:22:36,990 --> 00:22:43,150
l'url je pourrais lui passer ici url

607
00:22:41,150 --> 00:22:45,529
ensuite tout le reste ne change pas si

608
00:22:43,529 --> 00:22:47,779
ce n'est à ce niveau là que vu que j'ai

609
00:22:45,779 --> 00:22:50,400
choisi de fusionner mon état il faut que

610
00:22:47,400 --> 00:22:52,339
je fasse un set state je lui donnerai

611
00:22:50,339 --> 00:22:54,140
les items ce qui sera donc égale a

612
00:22:52,140 --> 00:22:56,809
response data et j'en profite pour aussi

613
00:22:54,809 --> 00:22:58,519
changer la valeur du loading en faisant

614
00:22:56,519 --> 00:23:00,710
loading de poing force ça me permet

615
00:22:58,710 --> 00:23:02,569
comme ça de n'avoir qu'un appel à cette

616
00:23:00,569 --> 00:23:04,250
state et de nous déclencher quand ce

617
00:23:02,250 --> 00:23:06,589
nouveau rendu dans le cas où on a un

618
00:23:04,589 --> 00:23:08,839
problème je ferai un set state

619
00:23:06,839 --> 00:23:10,819
je vais lui dire qu'on n'a pas de

620
00:23:08,819 --> 00:23:13,769
nouveaux items donc là je lui laisse un

621
00:23:10,769 --> 00:23:15,200
tableau vide et dans le lot ding je vais

622
00:23:13,200 --> 00:23:18,779
lui dire que c'est falls où ce que je

623
00:23:15,779 --> 00:23:21,359
peux faire c'est utiliser la

624
00:23:18,359 --> 00:23:23,450
déstructuration et lui dire bon ben je

625
00:23:21,450 --> 00:23:25,190
vais recevoir en pas remettre l'état

626
00:23:23,190 --> 00:23:27,200
moi je l'appelle as et je vais lui dire

627
00:23:25,200 --> 00:23:30,480
récupère tout échange juste la valeur de

628
00:23:27,480 --> 00:23:32,529
loading pour mettre falls comme ceux ci

629
00:23:30,529 --> 00:23:33,670
et ça pour que ce soit retourné

630
00:23:32,670 --> 00:23:37,750
directement il faut que ce soit entre

631
00:23:33,750 --> 00:23:39,710
parenthèses et là on a notre petit hook

632
00:23:37,710 --> 00:23:40,420
des faits qui va permettre de déclencher

633
00:23:39,420 --> 00:23:43,740
des appels en ajax

634
00:23:40,740 --> 00:23:45,230
donc je peux le refaire mais et allait

635
00:23:43,230 --> 00:23:47,480
l'utiliser dans mon post table je peux

636
00:23:45,480 --> 00:23:50,670
maintenant avoir un simple loading et

637
00:23:47,670 --> 00:23:52,130
items et lui dire que ça sera un news

638
00:23:50,130 --> 00:23:57,349
fraîches et je lui demande de récupérer

639
00:23:52,349 --> 00:23:58,000
cette url là et hop hop hop

640
00:23:57,000 --> 00:24:01,650
j'ai maintenant extrait la partie

641
00:23:58,650 --> 00:24:03,440
logique de ce composant la hire et le

642
00:24:01,440 --> 00:24:06,630
gros avantage c'est que si cette logique

643
00:24:03,630 --> 00:24:07,180
se retrouvent ailleurs et ça a été notre

644
00:24:06,180 --> 00:24:09,670
cas effectivement pour notre to do list

645
00:24:07,670 --> 00:24:12,630
je peux faire le même code

646
00:24:09,630 --> 00:24:16,819
en ne changeant que la partie url

647
00:24:12,819 --> 00:24:20,240
donc c'était on va mettre tous deux

648
00:24:16,240 --> 00:24:22,230
auraient tant pis comme ça et ça

649
00:24:20,230 --> 00:24:24,200
simplifiera la logique de mon composants

650
00:24:22,200 --> 00:24:26,490
bon c'est un exemple évidemment mais on

651
00:24:24,490 --> 00:24:28,500
peut en imaginer plein d'autres est ce

652
00:24:26,500 --> 00:24:28,269
qu'il faudra changer ici c'est la partie

653
00:24:28,269 --> 00:24:31,659
map

654
00:24:28,659 --> 00:24:33,089
on m'a payé sur les différents items ou

655
00:24:31,089 --> 00:24:35,159
renommer le retour ici en tout comme

656
00:24:33,159 --> 00:24:37,619
vous voulez et ça nous donne toujours et

657
00:24:35,619 --> 00:24:39,450
encore le même résultat

658
00:24:37,450 --> 00:24:41,339
donc j'espère qu'à travers ces exemples

659
00:24:39,339 --> 00:24:43,409
ça vous permettra de mieux comprendre en

660
00:24:41,409 --> 00:24:44,148
fait le grand intérêt que peu à voir les

661
00:24:43,148 --> 00:24:46,829
loups les loups qui vont vous permettre

662
00:24:44,829 --> 00:24:48,690
au fil du temps et au fil de votre

663
00:24:46,690 --> 00:24:50,638
utilisation de react de séparer une

664
00:24:48,638 --> 00:24:52,230
partie de la logique dans des fonctions

665
00:24:50,230 --> 00:24:53,298
qui vont être réutilisables ce qui vous

666
00:24:52,298 --> 00:24:55,888
permettra d'avoir moins de logique dans

667
00:24:53,888 --> 00:24:57,419
vos composants et de pouvoir extraire

668
00:24:55,419 --> 00:24:59,700
plus de choses et de vous focaliser sur

669
00:24:57,700 --> 00:25:00,319
ce qui est il essentiel au niveau des

670
00:24:59,319 --> 00:25:02,579
composants c'est à dire la partie est

671
00:25:00,579 --> 00:25:04,500
rendu après si vous n'êtes pas forcément

672
00:25:02,500 --> 00:25:06,538
à l'aise si vous n'appréciez pas c'est

673
00:25:04,538 --> 00:25:08,398
un pays là sachez que vous n'êtes pas

674
00:25:06,398 --> 00:25:09,019
obligé de l'utiliser vous pouvez

675
00:25:08,019 --> 00:25:11,579
continuer à viser les composants sous

676
00:25:09,579 --> 00:25:13,980
forme de classe mais sachez que vous

677
00:25:11,980 --> 00:25:16,839
perdez peut-être en possibilités de

678
00:25:13,839 --> 00:25:18,659
réorganisation si vous n'utilisez pas ce

679
00:25:16,659 --> 00:25:19,638
système de boucle au final ça reste

680
00:25:18,638 --> 00:25:21,808
avant tout une question de choix

681
00:25:19,808 --> 00:25:23,429
personnel est ce que vous aimez mais

682
00:25:21,429 --> 00:25:24,019
cette structure là est ce que vous allez

683
00:25:23,019 --> 00:25:26,788
l'utiliser correctement pour bénéficier

684
00:25:24,788 --> 00:25:29,888
des avantages à savoir la séparation et

685
00:25:26,888 --> 00:25:32,259
la réutilisation et est ce que ça peut

686
00:25:29,259 --> 00:25:33,109
être efficace dans votre côté lorsque je

687
00:25:32,109 --> 00:25:34,279
vous propose dans le chapitre suivant

688
00:25:33,279 --> 00:25:37,990
c'est de continuer à découvrir d'autres

689
00:25:34,990 --> 00:25:38,000
cook qui vont permettre de gérer

690
00:25:37,000 --> 00:25:40,859
certaines autres situations

691
00:25:38,859 --> 00:25:42,298
donc je vous donne rendez-vous dans le

692
00:25:40,298 --> 00:25:42,000
chapitre suivant
Subtitles End: mo.dbxdb.com

