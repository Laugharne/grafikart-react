1
00:00:00,000 --> 00:00:00,000
 Youtube subtitles download by mo.dbxdb.com 

2
00:00:00,000 --> 00:00:03,410
à bienvenue dans ce nouveau chapitre où

3
00:00:01,410 --> 00:00:04,090
nous allons parler des composants vous

4
00:00:03,090 --> 00:00:06,440
allez le voir les composants ça va être

5
00:00:04,440 --> 00:00:07,359
la base du fonctionnement et du travail

6
00:00:06,359 --> 00:00:09,890
avec réal et c'est ce qui fait

7
00:00:07,890 --> 00:00:11,360
véritablement sa force

8
00:00:09,360 --> 00:00:14,580
donc ce que je vous propose c'est de

9
00:00:11,580 --> 00:00:15,070
tout supprimer et on va repartir de zéro

10
00:00:14,070 --> 00:00:18,839
donc notre idée c'est de créer un titre

11
00:00:15,839 --> 00:00:20,630
et ce titre va dire bonjour suivi du nom

12
00:00:18,630 --> 00:00:22,100
de la personne et on va utiliser un

13
00:00:20,100 --> 00:00:25,920
chien pour ça donc par défaut ce que

14
00:00:22,920 --> 00:00:27,320
l'on ferait c'est concret notre fonction

15
00:00:25,320 --> 00:00:28,390
qui renverrait notre h1 qui ferait notre

16
00:00:27,390 --> 00:00:30,590
contenu mais ce que l'on va pouvoir

17
00:00:28,590 --> 00:00:32,810
faire c'est créer un composant donc un

18
00:00:30,810 --> 00:00:36,489
composant ces ni lui ni moins qu'une

19
00:00:32,489 --> 00:00:38,480
fonction donc on va l'appeler walkom et

20
00:00:36,480 --> 00:00:41,280
cette fonction elle prendra part à

21
00:00:38,280 --> 00:00:44,370
mettre des propriétés nous on va appeler

22
00:00:41,370 --> 00:00:45,219
sa propre ensuite ce que fera cette

23
00:00:44,219 --> 00:00:49,690
fonction c'est qu'elle retournera un

24
00:00:45,690 --> 00:00:52,350
nouveau noeud riact nous on retournera 1

25
00:00:49,350 --> 00:00:54,920
h 1 avec marquez bonjour pour l'instant

26
00:00:52,920 --> 00:00:57,920
ne sais pas comment passer le nommer

27
00:00:54,920 --> 00:00:59,270
maintenant si je souhaite utiliser ce

28
00:00:57,270 --> 00:01:01,699
composant là je peux l'utiliser à la

29
00:00:59,699 --> 00:01:02,379
place des différents tags que je

30
00:01:01,379 --> 00:01:05,930
mettrais normalement dans un élément

31
00:01:02,930 --> 00:01:08,549
donc par exemple de ce que je veux faire

32
00:01:05,549 --> 00:01:10,459
c'est faire un react d'hommes point les

33
00:01:08,459 --> 00:01:14,650
revendeurs et je vais lui demander de

34
00:01:10,650 --> 00:01:16,430
rendre à l'intérieur un welcome comme

35
00:01:14,430 --> 00:01:20,770
ceci et vu que je ne met rien à

36
00:01:16,770 --> 00:01:22,430
l'intérieur je mets une fermeture en

37
00:01:20,430 --> 00:01:24,110
second paramètre je vais lui demander de

38
00:01:22,110 --> 00:01:25,270
rendre ça dans l'élément qui a comme à

39
00:01:24,270 --> 00:01:28,409
eddy ap

40
00:01:25,409 --> 00:01:29,438
comme on l'avait vu tout à l'heure si je

41
00:01:28,438 --> 00:01:31,938
sauvegarde et que maintenant je

42
00:01:29,938 --> 00:01:34,650
réactualise ma page je vois bien que

43
00:01:31,650 --> 00:01:35,110
j'aie marqué bon jour mais ce qui est

44
00:01:34,110 --> 00:01:37,610
très intéressant c'est qu'avec ses

45
00:01:35,610 --> 00:01:38,438
composants là comme on le voit avec ce

46
00:01:37,438 --> 00:01:41,909
paramètre on va pouvoir passer des

47
00:01:38,909 --> 00:01:43,159
propriétés donc ce que je peux faire

48
00:01:41,159 --> 00:01:45,049
c'est par exemple lui rajouter ici un

49
00:01:43,049 --> 00:01:47,840
nouvel attribut qui sera transféré comme

50
00:01:45,840 --> 00:01:49,610
une propriété et cet attribut

51
00:01:47,610 --> 00:01:52,680
s'appellera name et je mettrai le nom de

52
00:01:49,680 --> 00:01:53,019
la personne par exemple le jean

53
00:01:52,019 --> 00:01:56,849
si maintenant dans mon rôle comme je

54
00:01:53,849 --> 00:01:58,130
fais un console point log et je log

55
00:01:56,130 --> 00:01:59,290
propre qu'est ce que je vais voir je

56
00:01:58,290 --> 00:02:03,610
vais voir tout simplement que j'ai un

57
00:01:59,610 --> 00:02:04,149
objet qui contient comme pelé n'est donc

58
00:02:03,149 --> 00:02:07,649
c'est le nom de la propriété qui a été

59
00:02:04,649 --> 00:02:10,438
envoyé sur ce que je peux faire après

60
00:02:07,438 --> 00:02:11,288
mon bonjour c'est lui dire ici d'affiché

61
00:02:10,288 --> 00:02:15,500
props

62
00:02:11,500 --> 00:02:16,819
point neil si je sauvegarde je vais bien

63
00:02:15,819 --> 00:02:19,240
voir

64
00:02:16,240 --> 00:02:21,479
bonjour jean si je change le nom on va

65
00:02:19,479 --> 00:02:22,940
mettre dorothée automatiquement ça

66
00:02:21,940 --> 00:02:24,630
change des choses

67
00:02:22,630 --> 00:02:26,220
donc ça nous permet de créer des

68
00:02:24,220 --> 00:02:27,229
éléments qui vont être dynamique et que

69
00:02:26,229 --> 00:02:30,910
l'on va pouvoir réutiliser et ça permet

70
00:02:27,910 --> 00:02:32,819
d'améliorer la conception alors souvent

71
00:02:30,819 --> 00:02:33,319
ce que l'on va faire c'est que lorsque

72
00:02:32,319 --> 00:02:36,669
l'on prend des propriétés qui sont

73
00:02:33,669 --> 00:02:37,340
nécessaires plutôt que lui dire ici je

74
00:02:36,340 --> 00:02:39,599
prends en europe s'est ensuite je fais

75
00:02:37,599 --> 00:02:41,459
preuve ce point name on va plutôt

76
00:02:39,459 --> 00:02:44,770
utiliser un objet en lui disant je

77
00:02:41,770 --> 00:02:45,169
prends un objet qui recevra le nom et

78
00:02:44,169 --> 00:02:48,959
après je peux utiliser directement non

79
00:02:45,959 --> 00:02:50,569
j'utilise la déstructuration ici

80
00:02:48,569 --> 00:02:52,470
pourquoi on fait ça tout simplement

81
00:02:50,470 --> 00:02:53,209
parce que quand on analyse le code de

82
00:02:52,209 --> 00:02:56,979
cette fonction ça permet de comprendre

83
00:02:53,979 --> 00:02:58,259
beaucoup plus aisément que finalement on

84
00:02:56,259 --> 00:03:00,509
recevra une propriété ici qui

85
00:02:58,509 --> 00:03:01,069
s'appellera name et ça permet quand on

86
00:03:00,069 --> 00:03:03,750
écrit notre composants de mieux

87
00:03:01,750 --> 00:03:04,639
comprendre sa structure et vous pouvez

88
00:03:03,639 --> 00:03:06,810
vous en rendre compte lorsque vous

89
00:03:04,810 --> 00:03:08,849
survolez welcome on voit que notre

90
00:03:06,849 --> 00:03:10,590
éditeur dit attention mais ça s'apprend

91
00:03:08,590 --> 00:03:12,930
name en paramètres et name peut être de

92
00:03:10,930 --> 00:03:13,340
n'importe quel type donc on voit que ça

93
00:03:12,340 --> 00:03:15,750
nous donne un peu plus d'informations et

94
00:03:13,750 --> 00:03:17,030
ses pratiques

95
00:03:15,030 --> 00:03:19,919
alors maintenant on peut se dire on a

96
00:03:17,919 --> 00:03:22,840
envie par exemple d'avoir une petite

97
00:03:19,840 --> 00:03:24,419
phrase de présentation donc je vais

98
00:03:22,419 --> 00:03:29,880
laisser mon welcome ouvert et je vais

99
00:03:24,880 --> 00:03:33,919
ici m du texte bonjour tout le monde et

100
00:03:29,919 --> 00:03:33,970
je vais fermer mon voile comme derrière

101
00:03:33,970 --> 00:03:38,799
comment je peux récupérer cette partie

102
00:03:35,799 --> 00:03:40,500
là donc ça on peut le récupérer grâce à

103
00:03:38,500 --> 00:03:42,419
une propriété particulière qui s'appelle

104
00:03:40,419 --> 00:03:44,459
children dans les propriétés que je

105
00:03:42,459 --> 00:03:46,440
reçois j'aurai toujours une autre

106
00:03:44,440 --> 00:03:48,569
propriété qui s'appellera children qui

107
00:03:46,569 --> 00:03:50,910
contiendra les enfants si je le souhaite

108
00:03:48,910 --> 00:03:53,889
je peux ensuite afficher ses enfants où

109
00:03:50,889 --> 00:03:57,380
je le souhaite dans mon composants donc

110
00:03:53,380 --> 00:04:00,090
par exemple ici je vais créer une dire

111
00:03:57,090 --> 00:04:02,729
je vais mettre d'abord mon h1 puis dire

112
00:04:00,729 --> 00:04:07,530
les enfants vont être dans un paragraphe

113
00:04:02,530 --> 00:04:09,329
ici et dans ce cas là ça fait bonjour

114
00:04:07,329 --> 00:04:12,669
dorothée et ensuite ça mais le contenu

115
00:04:09,669 --> 00:04:14,009
qui a été demandé à cet endroit là à

116
00:04:12,009 --> 00:04:16,349
l'intérieur de notre composants si je

117
00:04:14,349 --> 00:04:17,180
regarde bien c'est bien dans mon

118
00:04:16,180 --> 00:04:19,029
paragraphe

119
00:04:17,029 --> 00:04:22,100
donc les composants vont vous permettre

120
00:04:19,100 --> 00:04:24,430
de réutiliser au maximum votre code est

121
00:04:22,430 --> 00:04:26,079
de créer des blocs que vous allez

122
00:04:24,079 --> 00:04:28,329
pouvoir conserver et utiliser de manière

123
00:04:26,329 --> 00:04:30,399
modulable alors ça c'est la première

124
00:04:28,399 --> 00:04:31,380
manière d'écrire les composants donc

125
00:04:30,380 --> 00:04:33,699
c'est une manière qui utilisent la

126
00:04:31,699 --> 00:04:34,380
proche fonctionnel mais il faut savoir

127
00:04:33,380 --> 00:04:36,880
que vous avez une autre manière de créer

128
00:04:34,880 --> 00:04:39,620
les composants qui est une structure

129
00:04:36,620 --> 00:04:42,500
sous forme de classe alors ça je vais le

130
00:04:39,500 --> 00:04:45,889
renommé welcome fuck com fonctionne et

131
00:04:42,889 --> 00:04:47,139
on va créer une nouvelle classe que l'on

132
00:04:45,139 --> 00:04:48,449
va appeler welcome cette classe pour lui

133
00:04:47,449 --> 00:04:51,649
dire qu'elle va fonctionner comme un

134
00:04:48,649 --> 00:04:57,259
composant react on va la faire et ambre

135
00:04:51,259 --> 00:05:00,918
de react component à l'intérieur il

136
00:04:57,918 --> 00:05:02,050
faudra nécessairement une fonction qui

137
00:05:00,050 --> 00:05:04,690
va s'appeler renders cette fonction ce

138
00:05:02,690 --> 00:05:07,910
occupera du rendu et devra retourner un

139
00:05:04,910 --> 00:05:09,880
élément donc ça c'est exactement la même

140
00:05:07,880 --> 00:05:11,050
chose que ce que l'on avait écrit

141
00:05:09,050 --> 00:05:13,269
précédemment

142
00:05:11,269 --> 00:05:14,160
si maintenant on a besoin des propriétés

143
00:05:13,160 --> 00:05:16,540
il faut savoir qu'elles sont passées au

144
00:05:14,540 --> 00:05:18,940
niveau du constructeur et ensuite elles

145
00:05:16,940 --> 00:05:21,949
sont récupérables en faisant un vice

146
00:05:18,949 --> 00:05:23,440
point props donc si je fais ici un

147
00:05:21,440 --> 00:05:26,540
console point log et que je regarde dans

148
00:05:23,540 --> 00:05:28,500
mon objet à quoi ressemble props

149
00:05:26,500 --> 00:05:31,579
automatiquement je vois dans ma console

150
00:05:28,579 --> 00:05:32,160
que j'ai bien mes différentes clés donc

151
00:05:31,160 --> 00:05:34,690
après libre à moi de rendre la même

152
00:05:32,690 --> 00:05:38,579
chose au niveau de mon front ma fonction

153
00:05:34,579 --> 00:05:40,389
renders comme ceux ci et ils râlent

154
00:05:38,389 --> 00:05:44,970
parce que ici sévices point props point

155
00:05:40,970 --> 00:05:48,690
name et ici ça se ravise point props

156
00:05:44,690 --> 00:05:50,918
pointe children donc ses proches comme

157
00:05:48,918 --> 00:05:52,000
je vous disais elles sont appelés au

158
00:05:50,000 --> 00:05:53,009
niveau du constructeur c'est juste pour

159
00:05:52,009 --> 00:05:55,389
vous montrer mais le constructeur et

160
00:05:53,389 --> 00:05:57,579
servira un petit peu plus de choses mais

161
00:05:55,579 --> 00:06:01,228
si si je fais une console points block

162
00:05:57,228 --> 00:06:03,910
de props je vais tout de suite avoir une

163
00:06:01,910 --> 00:06:05,079
petite erreur parce que il faut

164
00:06:03,079 --> 00:06:06,899
nécessairement appelé super pour appeler

165
00:06:05,899 --> 00:06:08,740
la méthode parente

166
00:06:06,740 --> 00:06:10,990
ça c'est bien important ne l'oubliez

167
00:06:08,990 --> 00:06:10,310
surtout pas parce que ça crée des

168
00:06:10,310 --> 00:06:13,788
problèmes

169
00:06:10,788 --> 00:06:15,699
et là je vois bien que dans props que je

170
00:06:13,699 --> 00:06:18,380
reçois au niveau du constructeur j'ai

171
00:06:15,380 --> 00:06:20,380
bien mes paramètres name et children

172
00:06:18,380 --> 00:06:22,269
et voilà c'était juste pour l'exemple en

173
00:06:20,269 --> 00:06:24,069
vrai si vous venez l'intention de rien

174
00:06:22,069 --> 00:06:25,529
faire au niveau du constructeur ça

175
00:06:24,529 --> 00:06:27,279
suffit comme ça

176
00:06:25,279 --> 00:06:28,110
voilà pour le principe de base d'un

177
00:06:27,110 --> 00:06:30,370
composant c'est quelque chose qui est

178
00:06:28,370 --> 00:06:31,350
très utile pour mieux décomposer la

179
00:06:30,350 --> 00:06:33,569
structure de notre application

180
00:06:31,569 --> 00:06:35,980
donc vous pouvez aussi par exemple si on

181
00:06:33,980 --> 00:06:36,750
veut une liste de plusieurs personnes

182
00:06:35,750 --> 00:06:40,709
qui vont être accueillies

183
00:06:36,709 --> 00:06:43,279
on pourrait se créer deux classes que

184
00:06:40,279 --> 00:06:44,459
l'on appellerait homme ou l'art les

185
00:06:43,459 --> 00:06:47,779
limites on va créer simplement une

186
00:06:44,779 --> 00:06:49,300
fonction qui va s'appeler homme qui ne

187
00:06:47,300 --> 00:06:52,940
va prendre aucune propriété et qui fera

188
00:06:49,940 --> 00:06:53,339
un return qu'on va mettre une diva on

189
00:06:52,339 --> 00:06:55,480
veut pas utiliser les fragments pour

190
00:06:53,480 --> 00:06:59,550
l'instant et à l'intérieur on met notre

191
00:06:55,550 --> 00:07:03,209
premier welcome et on met dorothée là on

192
00:06:59,209 --> 00:07:05,319
va mettre de route et ensuite on ne met

193
00:07:03,319 --> 00:07:09,750
rien à l'intérieur et j'affiche le nom

194
00:07:05,750 --> 00:07:13,110
d'une autre personne jambes comme ça et

195
00:07:09,110 --> 00:07:14,579
je vais ensuite utiliser ce composant la

196
00:07:13,579 --> 00:07:18,810
à la place du composants qualcomm

197
00:07:14,810 --> 00:07:23,380
lorsque je monte ma structure html comme

198
00:07:18,380 --> 00:07:25,180
ceci et je ferme de suite dans ce cas là

199
00:07:23,180 --> 00:07:27,130
ça va répéter deux fois le nom de la

200
00:07:25,130 --> 00:07:28,170
personne donc je peux réaliser ce

201
00:07:27,170 --> 00:07:30,850
composant à plusieurs reprises et même

202
00:07:28,850 --> 00:07:33,410
utiliser un composant dans un autre

203
00:07:30,410 --> 00:07:35,310
composant ça ne pose aucun problème

204
00:07:33,310 --> 00:07:37,180
maintenant on va parler de la notion

205
00:07:35,180 --> 00:07:40,339
d'état au sein d'un composant et des

206
00:07:37,339 --> 00:07:41,160
cycles de vie alors on va tout

207
00:07:40,160 --> 00:07:43,899
simplement s'imaginer dans notre page

208
00:07:41,899 --> 00:07:45,910
d'accueil on aimerait bien avoir quelque

209
00:07:43,910 --> 00:07:49,699
chose qui affiche la date du jour

210
00:07:45,699 --> 00:07:51,579
donc on va créer une nouvelle classe que

211
00:07:49,579 --> 00:07:53,949
l'on va appeler clock comme horloge

212
00:07:51,949 --> 00:07:57,899
cette classe elle va étendre de

213
00:07:53,899 --> 00:07:59,139
réacteurs income fund et ensuite à

214
00:07:57,139 --> 00:08:02,529
l'intérieur je fais un ride un vendeur

215
00:07:59,529 --> 00:08:05,480
et je fais un return on va s'imaginer

216
00:08:02,480 --> 00:08:07,420
créé une vive et à l'intérieur de cette

217
00:08:05,420 --> 00:08:09,880
divan n'aurait la date du jour je vais

218
00:08:07,880 --> 00:08:10,350
créer le nouvel constante qui va

219
00:08:09,350 --> 00:08:12,069
s'appeler date

220
00:08:10,069 --> 00:08:15,980
je vais faire un nid you gratte pour

221
00:08:12,980 --> 00:08:17,230
créer une nouvelle date est ensuite à

222
00:08:15,230 --> 00:08:21,269
l'intérieur ici je vais lui demander de

223
00:08:17,269 --> 00:08:23,079
faire un dat pointe ou local string et

224
00:08:21,079 --> 00:08:25,449
je vais m il est pour afficher leur

225
00:08:23,449 --> 00:08:27,630
juste avant

226
00:08:25,630 --> 00:08:29,579
maintenant j'utilise ce système

227
00:08:27,579 --> 00:08:31,500
d'horloge dans mon composants sommes

228
00:08:29,500 --> 00:08:33,839
juste après avoir accueilli un petit peu

229
00:08:31,839 --> 00:08:34,009
tout le monde donc j'utilise mon

230
00:08:33,009 --> 00:08:37,799
composants clock qui n'a pas d'enfant

231
00:08:34,799 --> 00:08:40,720
donc on me donne bien leur est si je

232
00:08:37,720 --> 00:08:43,000
veux le temps je vais rajouter up date

233
00:08:40,000 --> 00:08:44,630
pointe ou le cal times string donc le

234
00:08:43,630 --> 00:08:46,799
problème c'est que cette horloge

235
00:08:44,799 --> 00:08:47,120
elle n'est pas du tout dynamique c'est

236
00:08:46,120 --> 00:08:49,830
pas pratique pour les utilisateurs ainsi

237
00:08:47,830 --> 00:08:51,419
laisse la page affichée tout le temps

238
00:08:49,419 --> 00:08:53,370
donc ce que l'on va pouvoir faire c'est

239
00:08:51,370 --> 00:08:55,529
utiliser un état donc pour créer un

240
00:08:53,529 --> 00:08:58,210
nouvel état il faut utiliser le

241
00:08:55,210 --> 00:09:00,149
constructeur ont créé un constructeur il

242
00:08:58,149 --> 00:09:02,220
prend part à mettre les propriétés et

243
00:09:00,220 --> 00:09:04,049
qui fait super de profs ça c'est

244
00:09:02,049 --> 00:09:05,120
toujours nécessaire maintenant on va

245
00:09:04,120 --> 00:09:06,139
pouvoir définir l'état de notre

246
00:09:05,139 --> 00:09:08,789
composants c'est un objet qui va

247
00:09:06,789 --> 00:09:10,679
représenter les données qui sont utiles

248
00:09:08,679 --> 00:09:12,450
à l'intérieur du composant et qui ne

249
00:09:10,450 --> 00:09:13,100
seront pas forcément exposé par des

250
00:09:12,100 --> 00:09:15,929
propriétés donc l'état c'est simplement

251
00:09:13,929 --> 00:09:17,970
un objet et il est accessible casse

252
00:09:15,970 --> 00:09:18,950
grâce à une propriété spécifique qui

253
00:09:17,950 --> 00:09:20,549
estate

254
00:09:18,549 --> 00:09:22,649
donc c'est un objet et moi je voulais

255
00:09:20,649 --> 00:09:24,600
donner une clé date qui contiendra notre

256
00:09:22,600 --> 00:09:27,580
date donc par défaut je vais les donner

257
00:09:24,580 --> 00:09:29,130
comme valeur initiale newgate maintenant

258
00:09:27,130 --> 00:09:31,230
si je souhaite utiliser cet état là au

259
00:09:29,230 --> 00:09:33,090
niveau de notre affichage

260
00:09:31,090 --> 00:09:37,639
il me suffit simplement d'utiliser vie

261
00:09:33,639 --> 00:09:41,000
ce point state point day tu es ici vit

262
00:09:37,000 --> 00:09:43,320
ce point state si je sauvegarde savard

263
00:09:41,320 --> 00:09:44,090
et afficher les informations mais ça ne

264
00:09:43,090 --> 00:09:46,409
fait pas toujours l'actualisation

265
00:09:44,409 --> 00:09:48,720
automatique ou pour avoir le

266
00:09:46,720 --> 00:09:50,669
rafraîchissement du temps il va falloir

267
00:09:48,669 --> 00:09:53,380
utiliser un intervalle et toutes les

268
00:09:50,380 --> 00:09:54,289
secondes changer la valeur de la date où

269
00:09:53,289 --> 00:09:55,580
c'est là qu'on est bloqués à quel

270
00:09:54,580 --> 00:09:57,960
endroit on va pouvoir faire ça parce

271
00:09:55,960 --> 00:09:59,340
qu'on veut le faire que dans ce

272
00:09:57,340 --> 00:10:01,200
composant là on ne veut pas avoir à

273
00:09:59,200 --> 00:10:03,750
lancer des revendeurs tout le temps donc

274
00:10:01,750 --> 00:10:06,909
on va pouvoir cela utiliser les cycles

275
00:10:03,909 --> 00:10:07,220
de vie d'un composant donc on va avoir

276
00:10:06,220 --> 00:10:09,840
deux fonctions qui sont intéressantes

277
00:10:07,840 --> 00:10:13,759
mais il y en a plein d'autres qui sont

278
00:10:09,759 --> 00:10:15,509
les fonctions component did menthe qui

279
00:10:13,509 --> 00:10:21,549
permet de déterminer quand un composant

280
00:10:15,549 --> 00:10:23,009
a été montée et component will et

281
00:10:21,009 --> 00:10:27,799
demandent qu'à un composant est supprimé

282
00:10:23,799 --> 00:10:28,029
donc attention c'est un ces minuscules

283
00:10:27,029 --> 00:10:30,539
ce que je

284
00:10:28,539 --> 00:10:33,759
faire ici c'est dès le début lui dire

285
00:10:30,759 --> 00:10:35,639
vis pour un timer égale bulle parce que

286
00:10:33,639 --> 00:10:37,380
j ni cialis de la valeur on n'a pas de

287
00:10:35,380 --> 00:10:39,720
timer au début quand le composant et

288
00:10:37,720 --> 00:10:43,700
monte je vais créer un nouveau timer

289
00:10:39,700 --> 00:10:46,659
faisant vie ce point timer égale wind au

290
00:10:43,659 --> 00:10:48,289
point cet intervalle

291
00:10:46,289 --> 00:10:51,519
là j'ai mal écrit les choses cet

292
00:10:48,519 --> 00:10:53,220
intervalle et je vais dire de lancer sa

293
00:10:51,220 --> 00:10:53,870
toutes les secondes

294
00:10:54,870 --> 00:11:00,789
et lorsque je démonte mon composants je

295
00:10:57,789 --> 00:11:02,519
veux lui dire de faire un wind au point

296
00:11:00,519 --> 00:11:03,440
claire intervalles et je veux que tu

297
00:11:02,440 --> 00:11:07,940
supprimes l'intervalle qui est

298
00:11:03,940 --> 00:11:08,450
sauvegardée dans la variable timer la

299
00:11:07,450 --> 00:11:10,409
dernière chose qui nous reste à faire

300
00:11:08,409 --> 00:11:12,409
c'est savoir qu'est ce que l'on met ici

301
00:11:10,409 --> 00:11:14,429
ce que l'on devra mettre à l'intérieur

302
00:11:12,429 --> 00:11:16,470
de cette fonction c'est simplement un

303
00:11:14,470 --> 00:11:18,059
appel à une fonction qui va venir

304
00:11:16,059 --> 00:11:20,730
changer l'état donc je vais aller créer

305
00:11:18,730 --> 00:11:22,139
une nouvelle fonction qui va s'appeler

306
00:11:20,139 --> 00:11:24,960
tic qui permettra de changer d'état pour

307
00:11:22,960 --> 00:11:27,730
changer l'état d'un composant il faudra

308
00:11:24,730 --> 00:11:30,190
utiliser la méthode 7 states on fait

309
00:11:27,190 --> 00:11:31,070
vite points 7 states et on doit lui

310
00:11:30,070 --> 00:11:34,630
envoyer un objet qui représente le

311
00:11:31,630 --> 00:11:37,480
nouvel état moi je lui dis je vais

312
00:11:34,480 --> 00:11:41,350
changer la date et m une nouvelle date

313
00:11:37,350 --> 00:11:44,919
donc cette méthode va changer l'état au

314
00:11:41,919 --> 00:11:46,200
niveau de mon timer je vais pouvoir lui

315
00:11:44,200 --> 00:11:48,570
dire dans cette fonction là j'aimerais

316
00:11:46,570 --> 00:11:51,570
bien que tu appelles la méthode tic

317
00:11:48,570 --> 00:11:53,130
attention si je fais ça le contexte de

318
00:11:51,130 --> 00:11:55,110
vie ce sera perdu donc je vais lui dire

319
00:11:53,110 --> 00:11:57,179
de buy in des vis pour ne pas avoir de

320
00:11:55,179 --> 00:11:59,909
problème donc maintenant je vais

321
00:11:57,909 --> 00:12:02,799
sauvegarder et je remarque quelque chose

322
00:11:59,799 --> 00:12:05,340
la date se met automatiquement à jour

323
00:12:02,340 --> 00:12:07,169
en fait lorsque notre composants et

324
00:12:05,169 --> 00:12:09,450
monte donc lorsqu'ils arrivent ici et

325
00:12:07,450 --> 00:12:11,179
qu'il est mis dans notre d'hommes

326
00:12:09,179 --> 00:12:12,440
automatiquement il appelle le comprenant

327
00:12:11,440 --> 00:12:14,710
dix demandes

328
00:12:12,710 --> 00:12:16,659
qui va demander une mise à jour de

329
00:12:14,659 --> 00:12:17,159
l'état toutes les secondes

330
00:12:16,159 --> 00:12:19,929
et à chaque fois que l'état se met à

331
00:12:17,929 --> 00:12:21,429
jour ce que va faire rien que c'est

332
00:12:19,429 --> 00:12:23,889
qu'il va revendre notre composants il va

333
00:12:21,889 --> 00:12:24,480
comparer les modifications comme on

334
00:12:23,480 --> 00:12:26,350
avait vu tout à l'heure

335
00:12:24,350 --> 00:12:28,149
lorsqu'on avait parlé de la fonction

336
00:12:26,149 --> 00:12:30,340
renders de réactions d'hommes il va voir

337
00:12:28,340 --> 00:12:31,380
que seule la date a changé et du coup il

338
00:12:30,380 --> 00:12:33,880
ne mettra à jour que cette information

339
00:12:31,880 --> 00:12:35,649
là et c'est ce que l'on voit ici

340
00:12:33,649 --> 00:12:38,600
la date est mise à jour toutes les

341
00:12:35,600 --> 00:12:39,299
secondes si vous voulez en apprendre un

342
00:12:38,299 --> 00:12:41,919
peu plus sur les différentes fonctions

343
00:12:39,919 --> 00:12:44,750
qui sont disponibles il faudra vous

344
00:12:41,750 --> 00:12:45,419
rendre sur la partie documentation vous

345
00:12:44,419 --> 00:12:47,889
allez aller dans un pays référence

346
00:12:45,889 --> 00:12:48,210
grappillait référence c'est plus quelque

347
00:12:47,210 --> 00:12:51,649
chose qui contient les informations

348
00:12:48,649 --> 00:12:53,259
brutes on va dire c'est moins son guide

349
00:12:51,259 --> 00:12:55,509
mais plus une référence et si vous

350
00:12:53,509 --> 00:12:56,279
cliquez sur react point comprenez on va

351
00:12:55,279 --> 00:12:59,659
vous montrer l'ensemble des méthodes qui

352
00:12:56,659 --> 00:13:01,029
sont disponibles et vous avez ici le

353
00:12:59,029 --> 00:13:02,039
livecycle qui vous explique le cycle de

354
00:13:01,039 --> 00:13:04,960
vie donc ça c'est quand un composant est

355
00:13:02,960 --> 00:13:07,700
monté qu'à un composant est mis à jour

356
00:13:04,700 --> 00:13:09,340
qu'un composant est démontée et vous

357
00:13:07,340 --> 00:13:10,169
avez l'ensemble des fonctions que vous

358
00:13:09,169 --> 00:13:12,940
pouvez utiliser et des propriétés qui

359
00:13:10,940 --> 00:13:14,320
sont disponibles au niveau de votre

360
00:13:12,320 --> 00:13:15,659
composants donc c'est ça qu'il faudra

361
00:13:14,659 --> 00:13:17,860
lire si vous avez besoin de plus

362
00:13:15,860 --> 00:13:18,389
d'informations et si vous voulez

363
00:13:17,389 --> 00:13:21,889
découvrir l'intérêt de certaines

364
00:13:18,889 --> 00:13:23,049
méthodes là vraiment pour ce que l'on

365
00:13:21,049 --> 00:13:25,330
veut faire le con planète monde et le

366
00:13:23,330 --> 00:13:28,490
kung fu nanny demande est le composant

367
00:13:25,490 --> 00:13:29,279
et la demande est largement suffisant ce

368
00:13:28,279 --> 00:13:31,690
que je vous propose de faire c'est

369
00:13:29,690 --> 00:13:33,789
maintenant de créer un nouveau composant

370
00:13:31,789 --> 00:13:35,169
donc celui là on va le laisser de côté

371
00:13:33,169 --> 00:13:37,570
et on va créer un composant qui

372
00:13:35,570 --> 00:13:39,549
incrémente donc on fait une classe qui

373
00:13:37,549 --> 00:13:44,950
va s'appeler une craie menteur et on va

374
00:13:39,950 --> 00:13:45,179
étendre de réac point de compos net à

375
00:13:44,179 --> 00:13:47,769
l'intérieur je vais vous laisser écrire

376
00:13:45,769 --> 00:13:49,330
le code j'aimerais bien avoir quelque

377
00:13:47,330 --> 00:13:51,580
chose qui incrémentale chiffres toutes

378
00:13:49,580 --> 00:13:55,799
les secondes et on le mettra juste après

379
00:13:51,799 --> 00:13:57,519
notre horloge comme ceux ci et on mettra

380
00:13:55,519 --> 00:13:59,259
peut-être une propriété qui sera la

381
00:13:57,259 --> 00:14:02,929
valeur de départ donc là on recevra ici

382
00:13:59,929 --> 00:14:06,659
un start il jouit donnerait comme valeur

383
00:14:02,659 --> 00:14:08,740
zéro même allé voir m 10 votre objectif

384
00:14:06,740 --> 00:14:10,570
c'est de créer un composant qui commence

385
00:14:08,570 --> 00:14:12,759
à 10 et qui toutes les secondes va

386
00:14:10,759 --> 00:14:14,769
incrémenté la valeur je vous laisse

387
00:14:12,769 --> 00:14:16,149
essayer de créer le code est encore

388
00:14:14,149 --> 00:14:18,279
riche a ensuite ensemble

389
00:14:16,279 --> 00:14:20,870
qu'on est parti je vais commencer par

390
00:14:18,870 --> 00:14:22,669
créer mon constructeur donc je fais

391
00:14:20,669 --> 00:14:25,769
constructeurs et je vais recevoir en

392
00:14:22,769 --> 00:14:27,679
paramètre une propriété ensuite

393
00:14:25,679 --> 00:14:30,600
j'appelle tout de suite la méthode super

394
00:14:27,600 --> 00:14:32,269
de props tout de suite aussi j'utilise

395
00:14:30,269 --> 00:14:34,070
la méthode renders pour rendre mon

396
00:14:32,070 --> 00:14:37,139
composants et je retourne une simple

397
00:14:34,139 --> 00:14:39,200
tiff alors le problème c'est que on

398
00:14:37,200 --> 00:14:41,299
recevra lors du montage de la valeur

399
00:14:39,299 --> 00:14:43,639
initiale mais ensuite il faut pouvoir

400
00:14:41,639 --> 00:14:44,740
incrémenté la valeur et garder notre

401
00:14:43,740 --> 00:14:45,100
état

402
00:14:44,100 --> 00:14:48,720
donc ça veut dire que ce composant la a

403
00:14:45,720 --> 00:14:51,389
besoin d'un état pour conserver le

404
00:14:48,389 --> 00:14:52,240
nombre que l'on va incrémenté donc dès

405
00:14:51,240 --> 00:14:53,590
le début je vais faire un vise point

406
00:14:52,590 --> 00:14:56,070
state

407
00:14:53,070 --> 00:14:58,340
on va lui passer un paramètre une valeur

408
00:14:56,340 --> 00:15:02,559
que l'on va appeler m et on lui mettra

409
00:14:58,559 --> 00:15:04,210
comme valeur initiale propre coin start

410
00:15:02,210 --> 00:15:05,230
maintenant tout comme pour notre horloge

411
00:15:04,230 --> 00:15:07,789
on va avoir besoin d'un petit timers

412
00:15:05,789 --> 00:15:10,259
donc tout de suite je fais vise point

413
00:15:07,259 --> 00:15:13,950
timer égale nul j'attends que le

414
00:15:10,950 --> 00:15:16,860
composant soit monté c'était comprenant

415
00:15:13,860 --> 00:15:18,409
ce dit menthe et lorsqu'il est monté je

416
00:15:16,409 --> 00:15:20,389
vais démarrer mon timer j'ai fait un

417
00:15:18,389 --> 00:15:22,309
wind au point cet intervalle

418
00:15:20,309 --> 00:15:24,889
je vais lancer la méthode tic on va

419
00:15:22,889 --> 00:15:26,659
l'appeler avec le même nom même on va

420
00:15:24,659 --> 00:15:29,820
l'appeler incrémente ce sera un petit

421
00:15:26,820 --> 00:15:31,220
peu plus simple est en bas une vis pour

422
00:15:29,220 --> 00:15:33,620
ne pas avoir de problème et en second

423
00:15:31,620 --> 00:15:35,240
paramètre je lui donnais l'intervalle

424
00:15:33,240 --> 00:15:37,700
ici on va mettre une seconde je vais

425
00:15:35,700 --> 00:15:40,799
écouter le compound oui la demande

426
00:15:37,799 --> 00:15:42,049
et lorsqu'il et nos montées je fais un

427
00:15:40,049 --> 00:15:47,720
window pour une cuillère intervalles et

428
00:15:42,720 --> 00:15:49,279
je supprime mon timer donc là le

429
00:15:47,279 --> 00:15:52,889
principe est vraiment le même que tout à

430
00:15:49,889 --> 00:15:54,259
l'heure j'ai besoin maintenant d'écrire

431
00:15:52,259 --> 00:15:54,120
ma fonction incrémente donc je fais une

432
00:15:54,120 --> 00:15:57,899
clémente

433
00:15:54,899 --> 00:16:00,149
donc ce sera une fonction qui fera un

434
00:15:57,149 --> 00:16:01,059
vice points 7 states et qui changera la

435
00:16:00,059 --> 00:16:06,980
valeur de haine donc là je mettrais n

436
00:16:01,980 --> 00:16:08,509
égale vie ce point state point n plus

437
00:16:06,509 --> 00:16:10,929
comme sage incrémente la valeur de 1

438
00:16:08,929 --> 00:16:12,769
maintenant au niveau de ma vie où je

439
00:16:10,769 --> 00:16:14,990
peux lui dire valeur de pointe et je

440
00:16:12,990 --> 00:16:17,669
vais lui demander d'afficher vie ce

441
00:16:14,669 --> 00:16:20,490
point state point m

442
00:16:17,490 --> 00:16:23,159
je sauvegarde et je vois que ça commence

443
00:16:20,159 --> 00:16:25,269
à 10 et que ça continue de 1,1

444
00:16:23,269 --> 00:16:28,350
alors maintenant petite mise en garde

445
00:16:25,350 --> 00:16:30,289
concernant ce petit système là il faut

446
00:16:28,289 --> 00:16:32,480
faire attention parce que le set state

447
00:16:30,480 --> 00:16:34,610
peut être regroupés par react cirque

448
00:16:32,610 --> 00:16:35,380
parfois quand vous allez avoir pleine

449
00:16:34,380 --> 00:16:38,669
opération qui vont être lancés en même

450
00:16:35,669 --> 00:16:40,339
temps react va appeler les 700 manière

451
00:16:38,339 --> 00:16:43,620
consécutive et ce qui peut se passer ici

452
00:16:40,620 --> 00:16:45,529
c'est que ont vu qu'on utilise le state

453
00:16:43,529 --> 00:16:48,600
pour construire le nouveau style ça peut

454
00:16:45,600 --> 00:16:50,179
amener à des problèmes donc dès que vous

455
00:16:48,179 --> 00:16:50,009
faites un set state qui va modifier

456
00:16:50,009 --> 00:16:52,759
l'état

457
00:16:50,759 --> 00:16:55,740
ce qu'il est conseillé de faire c'est

458
00:16:52,740 --> 00:16:58,980
plutôt ici de créer une fonction qui

459
00:16:55,980 --> 00:17:00,409
prendra en premier paramètre l'état et

460
00:16:58,409 --> 00:17:02,958
un second paramètre les props et cette

461
00:17:00,958 --> 00:17:05,730
fonction ce qu'elle devra retourner

462
00:17:02,730 --> 00:17:07,369
c'est le nouvel état donc c'est à ce

463
00:17:05,369 --> 00:17:11,529
niveau là que l'on mettra que n sera

464
00:17:07,529 --> 00:17:13,308
égal à state point n clusan si je

465
00:17:11,308 --> 00:17:14,078
sauvegarde ça ne change absolument rien

466
00:17:13,078 --> 00:17:16,849
au fonctionnement mais ça permet

467
00:17:14,849 --> 00:17:18,439
d'éviter les problèmes si on a plusieurs

468
00:17:16,439 --> 00:17:20,449
fois 17 state consécutive qui sont

469
00:17:18,449 --> 00:17:23,670
appelés prenez cette règle d'or elle est

470
00:17:20,670 --> 00:17:25,369
très importante c'est que si jamais

471
00:17:23,369 --> 00:17:27,740
votre changement d'état dépend d'un état

472
00:17:25,740 --> 00:17:28,869
ou d'une propriété mieux vaut le mettre

473
00:17:27,869 --> 00:17:31,650
dans une fonction

474
00:17:28,650 --> 00:17:32,109
mieux vaut écrire ce qu au delà donc

475
00:17:31,109 --> 00:17:34,308
vous pouvez ensuite vous simplifier en

476
00:17:32,308 --> 00:17:37,650
huitièmes fonction fléché vous pouvez

477
00:17:34,650 --> 00:17:38,259
dire fais ça et ça ça sera directement

478
00:17:37,259 --> 00:17:42,670
leur tour et tu peux retourner

479
00:17:38,670 --> 00:17:44,539
quelque chose qui ressemble à ça après

480
00:17:42,539 --> 00:17:47,279
c'est pas forcément plus lisible selon

481
00:17:44,279 --> 00:17:48,369
moi mais chacun fait comme il veut mais

482
00:17:47,369 --> 00:17:52,990
voilà là on a un système qui sait

483
00:17:48,990 --> 00:17:54,109
incréments de 1,1 et qui ne posera pas

484
00:17:52,109 --> 00:17:55,210
de problème si on a plusieurs sets state

485
00:17:54,210 --> 00:17:57,829
qui sont lancés en même temps alors

486
00:17:55,829 --> 00:17:58,509
autres qui détaille importante pour ceux

487
00:17:57,509 --> 00:18:01,890
qui n'auraient pas fait attention mais

488
00:17:58,890 --> 00:18:03,200
chaque fois que le composant est monté

489
00:18:01,200 --> 00:18:04,029
il est monté avec un état qui est

490
00:18:03,029 --> 00:18:06,558
individuel c'est à dire que je peux

491
00:18:04,558 --> 00:18:08,539
avoir un agrément tort ici qui commence

492
00:18:06,539 --> 00:18:11,789
à 10 et avoir un autre un créateur qui

493
00:18:08,789 --> 00:18:14,250
commence à 100 sans avoir de problèmes

494
00:18:11,250 --> 00:18:16,400
comme ceux ci et là on voit que les deux

495
00:18:14,400 --> 00:18:17,230
fonctionnent de la même manière ce que

496
00:18:16,230 --> 00:18:19,819
l'on pourrait s'imaginer c'est aussi

497
00:18:17,819 --> 00:18:22,529
avoir une propriété qui serait le pas

498
00:18:19,529 --> 00:18:25,859
qu'on pourrait lire ici step et on veut

499
00:18:22,859 --> 00:18:28,730
aller dans ce cas-là de 10 ans 10

500
00:18:25,730 --> 00:18:30,079
essayer de faire ça et on corrige ça

501
00:18:28,079 --> 00:18:30,720
juste après

502
00:18:30,720 --> 00:18:36,130
donc pour avoir le pas il faut que dans

503
00:18:33,130 --> 00:18:37,039
les propriétés je reçoive steps et je

504
00:18:36,039 --> 00:18:40,509
peux donner une valeur initiale par

505
00:18:37,509 --> 00:18:42,179
défaut si vous avez regardé rapidement

506
00:18:40,179 --> 00:18:46,548
lorsqu'on avait parlé de la référence de

507
00:18:42,548 --> 00:18:50,210
l'apei react compo net si je descends un

508
00:18:46,210 --> 00:18:53,048
petit peu ici hop hop hop on avait des

509
00:18:50,048 --> 00:18:54,048
foals propre donc des folk props permet

510
00:18:53,048 --> 00:18:57,849
de définir les propriétés qui seront

511
00:18:54,849 --> 00:19:00,400
reçus par défaut donc moi je peux lui

512
00:18:57,400 --> 00:19:02,339
dire que pour mon composant la propriété

513
00:19:00,339 --> 00:19:04,380
step aura une valeur initiale à 1

514
00:19:02,380 --> 00:19:07,419
ça m'évite de devoir faire une

515
00:19:04,419 --> 00:19:09,269
quelconque logique ailleurs donc je vais

516
00:19:07,269 --> 00:19:14,130
ici me placer sur incrémente heures et

517
00:19:09,130 --> 00:19:17,710
lui dire que pour incrémente heure là

518
00:19:14,710 --> 00:19:22,380
les propriétés qui sont par défaut c'est

519
00:19:17,380 --> 00:19:27,240
simplement une valeur initiale à 0 et 1

520
00:19:22,240 --> 00:19:30,089
step à 0 plus tôt

521
00:19:27,089 --> 00:19:32,609
voilà ça ne change rien pour l'instant

522
00:19:30,609 --> 00:19:37,980
et maintenant lorsque j'ai vraiment mais

523
00:19:32,980 --> 00:19:39,089
je peux utiliser propre point step et

524
00:19:37,089 --> 00:19:40,160
dans ce cas là celui là va sacrément t2

525
00:19:39,160 --> 00:19:43,960
10 en 10 alors que le retrouva

526
00:19:40,960 --> 00:19:45,869
s'incrémente est de un an plus tard

527
00:19:43,869 --> 00:19:47,579
quand le javascript et le support sera

528
00:19:45,579 --> 00:19:50,410
améliorée sur les navigateurs on aura la

529
00:19:47,410 --> 00:19:52,319
possibilité de mettre ici statique des

530
00:19:50,319 --> 00:19:54,179
folk props et de mettre les propriétés

531
00:19:52,179 --> 00:19:55,130
par défaut pour l'instant vu que ça ne

532
00:19:54,130 --> 00:19:56,029
fonctionnera pas sur tous les

533
00:19:55,029 --> 00:19:59,230
navigateurs je vais me contenter

534
00:19:56,230 --> 00:20:02,400
d'écrire les choses de cette manière là

535
00:19:59,400 --> 00:20:03,289
mais voilà comment vous pouvez créer des

536
00:20:02,289 --> 00:20:06,940
systèmes qui vont vous permettre d'avoir

537
00:20:03,940 --> 00:20:07,190
de la logique réutilisables alors là on

538
00:20:06,190 --> 00:20:10,720
a créé des composants tout bête mais on

539
00:20:07,720 --> 00:20:11,000
peut s'imaginer très bien plus tard pour

540
00:20:10,000 --> 00:20:13,679
des formulaires si vous utilisez bull

541
00:20:11,679 --> 00:20:15,450
sera par exemple qui est une syntaxe est

542
00:20:13,450 --> 00:20:19,519
une structure html complexe vous

543
00:20:15,519 --> 00:20:22,808
pourriez avoir un field field et vous

544
00:20:19,808 --> 00:20:23,450
pourriez lui mettre le label ici et vous

545
00:20:22,450 --> 00:20:26,798
pourriez avoir le nom du champ à ce

546
00:20:23,798 --> 00:20:27,109
niveau là et vous pouvez avoir comme ça

547
00:20:26,109 --> 00:20:29,579
tout un tas de logique que vous allez

548
00:20:27,579 --> 00:20:31,169
pouvoir réutiliser et vous allez pouvoir

549
00:20:29,169 --> 00:20:32,269
vous créez des composants qui vont vous

550
00:20:31,269 --> 00:20:34,839
simplifier le travail

551
00:20:32,839 --> 00:20:37,548
pour créer des éléments dynamiques en

552
00:20:34,548 --> 00:20:38,099
javascript dans le prochain chapitre je

553
00:20:37,099 --> 00:20:40,720
vous propose de parler des événements et

554
00:20:38,720 --> 00:20:41,250
on va voir comment nous en tant

555
00:20:40,250 --> 00:20:43,990
qu'utilisateur on peut interagir avec

556
00:20:41,990 --> 00:20:46,940
l'application et faire en sorte de

557
00:20:43,940 --> 00:20:46,000
modifier certains éléments
Subtitles End: mo.dbxdb.com

